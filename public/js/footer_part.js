function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==("undefined"==typeof exports?"undefined":_typeof(exports))?require("jquery"):jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var n;return function(){var e,n,i;t&&t.requirejs||(t?n=t:t={},function(t){function a(e,t){return k.call(e,t)}function r(e,t){var n,i,a,r,o,s,l,c,u,d,h,p=t&&t.split("/"),f=v.map,m=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(o=(e=e.split("/")).length-1,v.nodeIdCompat&&w.test(e[o])&&(e[o]=e[o].replace(w,"")),e=p.slice(0,p.length-1).concat(e),u=0;u<e.length;u+=1)if("."===(h=e[u]))e.splice(u,1),u-=1;else if(".."===h){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||m)&&f){for(u=(n=e.split("/")).length;u>0;u-=1){if(i=n.slice(0,u).join("/"),p)for(d=p.length;d>0;d-=1)if((a=f[p.slice(0,d).join("/")])&&(a=a[i])){r=a,s=u;break}if(r)break;!l&&m&&m[i]&&(l=m[i],c=u)}!r&&l&&(r=l,s=c),r&&(n.splice(0,s,r),e=n.join("/"))}return e}function o(e,n){return function(){var i=b.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),h.apply(t,i.concat([e,n]))}}function s(e){return function(t){m[e]=t}}function l(e){if(a(g,e)){var n=g[e];delete g[e],y[e]=!0,d.apply(t,n)}if(!a(m,e)&&!a(y,e))throw new Error("No "+e);return m[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function u(e){return function(){return v&&v.config&&v.config[e]||{}}}var d,h,p,f,m={},g={},v={},y={},k=Object.prototype.hasOwnProperty,b=[].slice,w=/\.js$/;p=function(e,t){var n,i=c(e),a=i[0];return e=i[1],a&&(n=l(a=r(a,t))),a?e=n&&n.normalize?n.normalize(e,function(e){return function(t){return r(t,e)}}(t)):r(e,t):(a=(i=c(e=r(e,t)))[0],e=i[1],a&&(n=l(a))),{f:a?a+"!"+e:e,n:e,pr:a,p:n}},f={require:function(e){return o(e)},exports:function(e){var t=m[e];return void 0!==t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:u(e)}}},d=function(e,n,i,r){var c,u,d,h,v,k,b=[],w=_typeof(i);if(r=r||e,"undefined"===w||"function"===w){for(n=!n.length&&i.length?["require","exports","module"]:n,v=0;v<n.length;v+=1)if(h=p(n[v],r),"require"===(u=h.f))b[v]=f.require(e);else if("exports"===u)b[v]=f.exports(e),k=!0;else if("module"===u)c=b[v]=f.module(e);else if(a(m,u)||a(g,u)||a(y,u))b[v]=l(u);else{if(!h.p)throw new Error(e+" missing "+u);h.p.load(h.n,o(r,!0),s(u),{}),b[v]=m[u]}d=i?i.apply(m[e],b):void 0,e&&(c&&c.exports!==t&&c.exports!==m[e]?m[e]=c.exports:d===t&&k||(m[e]=d))}else e&&(m[e]=i)},e=n=h=function(e,n,i,a,r){if("string"==typeof e)return f[e]?f[e](n):l(p(e,n).f);if(!e.splice){if((v=e).deps&&h(v.deps,v.callback),!n)return;n.splice?(e=n,n=i,i=null):e=t}return n=n||function(){},"function"==typeof i&&(i=a,a=r),a?d(t,e,n,i):setTimeout(function(){d(t,e,n,i)},4),h},h.config=function(e){return h(e)},e._defined=m,(i=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),a(m,e)||a(g,e)||(g[e]=[e,t,n])}).amd={jQuery:!0}}(),t.requirejs=e,t.require=n,t.define=i)}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,n=[];for(var i in t){"function"==typeof t[i]&&"constructor"!==i&&n.push(i)}return n}var n={Extend:function(e,t){function n(){this.constructor=e}var i={}.hasOwnProperty;for(var a in t)i.call(t,a)&&(e[a]=t[a]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},Decorate:function(e,n){function i(){var t=Array.prototype.unshift,i=n.prototype.constructor.length,a=e.prototype.constructor;i>0&&(t.call(arguments,e.prototype.constructor),a=n.prototype.constructor),a.apply(this,arguments)}var a=t(n),r=t(e);n.displayName=e.displayName,i.prototype=new function(){this.constructor=i};for(var o=0;o<r.length;o++){var s=r[o];i.prototype[s]=e.prototype[s]}for(var l=function(e){var t=function(){};e in i.prototype&&(t=i.prototype[e]);var a=n.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),a.apply(this,arguments)}},c=0;c<a.length;c++){var u=a[c];i.prototype[u]=l(u)}return i}},i=function(){this.listeners={}};return i.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},i.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(e,t){for(var n=0,i=e.length;i>n;n++)e[n].apply(this,t)},n.Observable=i,n.generateChars=function(e){for(var t="",n=0;e>n;n++){t+=Math.floor(36*Math.random()).toString(36)}return t},n.bind=function(e,t){return function(){e.apply(t,arguments)}},n._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var a=0;a<n.length;a++){var r=n[a];(r=r.substring(0,1).toLowerCase()+r.substring(1))in i||(i[r]={}),a==n.length-1&&(i[r]=e[t]),i=i[r]}delete e[t]}}return e},n.hasScroll=function(t,n){var i=e(n),a=n.style.overflowX,r=n.style.overflowY;return(a!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===a||"scroll"===r||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},n.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var i=e();e.map(n,function(e){i=i.add(e)}),n=i}t.append(n)},n}),t.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,i){this.$element=e,this.data=i,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=e('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),a=this.options.get("translations").get(t.message);i.append(n(a(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],a=this.option(i);t.push(a)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var t=this;this.data.current(function(n){var i=e.map(n,function(e){return e.id.toString()});t.$results.find(".select2-results__option[aria-selected]").each(function(){var t=e(this),n=e.data(this,"data"),a=""+n.id;null!=n.element&&n.element.selected||null==n.element&&e.inArray(a,i)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},n.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};for(var a in t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==t.id&&delete i["aria-selected"],null!=t._resultId&&(n.id=t._resultId),t.title&&(n.title=t.title),t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]),i){var r=i[a];n.setAttribute(a,r)}if(t.children){var o=e(n),s=document.createElement("strong");s.className="select2-results__group",e(s),this.template(t,s);for(var l=[],c=0;c<t.children.length;c++){var u=t.children[c],d=this.option(u);l.push(d)}var h=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});h.append(l),o.append(s),o.append(h)}else this.template(t,n);return e.data(n,"data",t),n},n.prototype.bind=function(t,n){var i=this,a=t.id+"-results";this.$results.attr("id",a),t.on("results:all",function(e){i.clear(),i.append(e.data),t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on("results:append",function(e){i.append(e.data),t.isOpen()&&i.setClasses()}),t.on("query",function(e){i.hideMessages(),i.showLoading(e)}),t.on("select",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),t.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=i.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=i.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),n=t.index(e);if(0!==n){var a=n-1;0===e.length&&(a=0);var r=t.eq(a);r.trigger("mouseenter");var o=i.$results.offset().top,s=r.offset().top,l=i.$results.scrollTop()+(s-o);0===a?i.$results.scrollTop(0):0>s-o&&i.$results.scrollTop(l)}}),t.on("results:next",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),n=t.index(e)+1;if(!(n>=t.length)){var a=t.eq(n);a.trigger("mouseenter");var r=i.$results.offset().top+i.$results.outerHeight(!1),o=a.offset().top+a.outerHeight(!1),s=i.$results.scrollTop()+o-r;0===n?i.$results.scrollTop(0):o>r&&i.$results.scrollTop(s)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){i.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-t+e.deltaY,a=e.deltaY>0&&t-e.deltaY<=0,r=e.deltaY<0&&n<=i.$results.height();a?(i.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):r&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var n=e(this),a=n.data("data");return"true"===n.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:t,data:a}):i.trigger("close",{})):void i.trigger("select",{originalEvent:t,data:a})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var n=e(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:n,element:e(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),n=this.$results.offset().top,i=e.offset().top,a=this.$results.scrollTop()+(i-n),r=i-n;a-=2*e.outerHeight(!1),2>=t?this.$results.scrollTop(0):(r>this.$results.outerHeight()||0>r)&&this.$results.scrollTop(a)}},n.prototype.template=function(t,n){var i=this.options.get("templateResult"),a=this.options.get("escapeMarkup"),r=i(t,n);null==r?n.style.display="none":"string"==typeof r?n.innerHTML=a(r):e(n).append(r)},n}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},i.prototype.bind=function(e,t){var i=this,a=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){i.trigger("focus",e)}),this.$selection.on("blur",function(e){i._handleBlur(e)}),this.$selection.on("keydown",function(e){i.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){i.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){i.update(e.data)}),e.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",a),i._attachCloseHandler(e)}),e.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.focus(),i._detachCloseHandler(e)}),e.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),e.on("disable",function(){i.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)},1)},i.prototype._attachCloseHandler=function(t){e(document.body).on("mousedown.select2."+t.id,function(t){var n=e(t.target).closest(".select2");e(".select2.select2-container--open").each(function(){var t=e(this);this!=n[0]&&t.data("element").select2("close")})})},i.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(e,t){t.find(".selection").append(e)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},i}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,i){function a(){a.__super__.constructor.apply(this,arguments)}return n.Extend(a,t),a.prototype.render=function(){var e=a.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},a.prototype.bind=function(e,t){var n=this;a.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||n.$selection.focus()}),e.on("selection:update",function(e){n.update(e.data)})},a.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},a.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},a.prototype.selectionContainer=function(){return e("<span></span>")},a.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i),n.prop("title",t.title||t.text)}else this.clear()},a}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function i(e,t){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},i.prototype.bind=function(t,n){var a=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){a.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!a.options.get("disabled")){var n=e(this).parent().data("data");a.trigger("unselect",{originalEvent:t,data:n})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},i.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],i=0;i<e.length;i++){var a=e[i],r=this.selectionContainer(),o=this.display(a,r);r.append(o),r.prop("title",a.title||a.text),r.data("data",a),t.push(r)}var s=this.$selection.find(".select2-selection__rendered");n.appendMany(s,t)}},i}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(t.length>1||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function n(){}return n.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},n.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();for(var i=n.data("data"),a=0;a<i.length;a++){var r={data:i[a]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(e,n,i){i.isOpen()||(n.which==t.DELETE||n.which==t.BACKSPACE)&&this._handleClear(n)},n.prototype.update=function(t,n){if(t.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=e('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function i(e,t,n){e.call(this,t,n)}return i.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=t.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(e,t,i){var a=this;e.call(this,t,i),t.on("open",function(){a.$search.trigger("focus")}),t.on("close",function(){a.$search.val(""),a.$search.removeAttr("aria-activedescendant"),a.$search.trigger("focus")}),t.on("enable",function(){a.$search.prop("disabled",!1),a._transferTabIndex()}),t.on("disable",function(){a.$search.prop("disabled",!0)}),t.on("focus",function(e){a.$search.trigger("focus")}),t.on("results:focus",function(e){a.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){a.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){a._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),a.trigger("keypress",e),a._keyUpPrevented=e.isDefaultPrevented(),e.which===n.BACKSPACE&&""===a.$search.val()){var t=a.$searchContainer.prev(".select2-selection__choice");if(t.length>0){var i=t.data("data");a.searchRemoveChoice(i),e.preventDefault()}}});var r=document.documentMode,o=r&&11>=r;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){return o?void a.$selection.off("input.search input.searchcheck"):void a.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(o&&"input"===e.type)a.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&a.handleSearch(e)}})},i.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},i.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";""!==this.$search.attr("placeholder")?e=this.$selection.find(".select2-selection__rendered").innerWidth():e=.75*(this.$search.val().length+1)+"em";this.$search.css("width",e)},i}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,i){var a=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],o=["opening","closing","selecting","unselecting"];t.call(this,n,i),n.on("*",function(t,n){if(-1!==e.inArray(t,r)){n=n||{};var i=e.Event("select2:"+t,{params:n});a.$element.trigger(i),-1!==e.inArray(t,o)&&(n.prevented=i.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var i=t(e);n._cache[e]=i}return new n(n._cache[e])},n}),t.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),t.define("select2/data/base",["../utils"],function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var i=t.id+"-result-";return(i+=e.generateChars(4))+(null!=n.id?"-"+n.id.toString():"-"+e.generateChars(4))},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,e),i.prototype.current=function(e){var t=[],i=this;this.$element.find(":selected").each(function(){var e=n(this),a=i.item(e);t.push(a)}),e(t)},i.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var a=[];(e=[e]).push.apply(e,i);for(var r=0;r<e.length;r++){var o=e[r].id;-1===n.inArray(o,a)&&a.push(o)}t.$element.val(a),t.$element.trigger("change")});else{var i=e.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple"))return e.selected=!1,n(e.element).is("option")?(e.element.selected=!1,void this.$element.trigger("change")):void this.current(function(i){for(var a=[],r=0;r<i.length;r++){var o=i[r].id;o!==e.id&&-1===n.inArray(o,a)&&a.push(o)}t.$element.val(a),t.$element.trigger("change")})},i.prototype.bind=function(e,t){var n=this;this.container=e,e.on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(e,t){var i=[],a=this;this.$element.children().each(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var r=a.item(t),o=a.matches(e,r);null!==o&&i.push(o)}}),t({results:i})},i.prototype.addOptions=function(e){t.appendMany(this.$element,e)},i.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var i=n(t),a=this._normalizeItem(e);return a.element=t,n.data(t,"data",a),i},i.prototype.item=function(e){var t={};if(null!=(t=n.data(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var i=e.children("option"),a=[],r=0;r<i.length;r++){var o=n(i[r]),s=this.item(o);a.push(s)}t.children=a}return(t=this._normalizeItem(t)).element=e[0],n.data(e[0],"data",t),t},i.prototype._normalizeItem=function(e){n.isPlainObject(e)||(e={id:e,text:e});return null!=(e=n.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},{selected:!1,disabled:!1},e)},i.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},i}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function i(e,t){var n=t.get("data")||[];i.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return t.Extend(i,e),i.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),i.__super__.select.call(this,e)},i.prototype.convertToOptions=function(e){function i(e){return function(){return n(this).val()==e.id}}for(var a=this,r=this.$element.find("option"),o=r.map(function(){return a.item(n(this)).id}).get(),s=[],l=0;l<e.length;l++){var c=this._normalizeItem(e[l]);if(n.inArray(c.id,o)>=0){var u=r.filter(i(c)),d=this.item(u),h=n.extend(!0,{},c,d),p=this.option(h);u.replaceWith(p)}else{var f=this.option(c);if(c.children){var m=this.convertToOptions(c.children);t.appendMany(f,m)}s.push(f)}}return s},i}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function i(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,i){var a=n.ajax(e);return a.then(t),a.fail(i),a}};return n.extend({},t,e,!0)},i.prototype.processResults=function(e){return e},i.prototype.query=function(e,t){function i(){var i=r.transport(r,function(i){var r=a.processResults(i,e);a.options.get("debug")&&window.console&&console.error&&(r&&r.results&&n.isArray(r.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(r)},function(){i.status&&"0"===i.status||a.trigger("results:message",{message:"errorLoading"})});a._request=i}var a=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url.call(this.$element,e)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),t.define("select2/data/tags",["jquery"],function(e){function t(t,n,i){var a=i.get("tags"),r=i.get("createTag");void 0!==r&&(this.createTag=r);var o=i.get("insertTag");if(void 0!==o&&(this.insertTag=o),t.call(this,n,i),e.isArray(a))for(var s=0;s<a.length;s++){var l=a[s],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return t.prototype.query=function(e,t,n){var i=this;return this._removeOldTags(),null==t.term||null!=t.page?void e.call(this,t,n):void e.call(this,t,function e(a,r){for(var o=a.results,s=0;s<o.length;s++){var l=o[s],c=null!=l.children&&!e({results:l.children},!0);if(l.text===t.term||c)return!r&&(a.data=o,void n(a))}if(r)return!0;var u=i.createTag(t);if(null!=u){var d=i.option(u);d.attr("data-select2-tag",!0),i.addOptions([d]),i.insertTag(o,u)}a.results=o,n(a)})},t.prototype.createTag=function(t,n){var i=e.trim(n.term);return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,i){var a=this;n.term=n.term||"";var r=this.tokenizer(n,this.options,function(t){var n=a._normalizeItem(t);if(!a.$element.find("option").filter(function(){return e(this).val()===n.id}).length){var i=a.option(n);i.attr("data-select2-tag",!0),a._removeOldTags(),a.addOptions([i])}!function(e){a.trigger("select",{data:e})}(n)});r.term!==n.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.focus()),n.term=r.term),t.call(this,n,i)},t.prototype.tokenizer=function(t,n,i,a){for(var r=i.get("tokenSeparators")||[],o=n.term,s=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};s<o.length;){var c=o[s];if(-1!==e.inArray(c,r)){var u=o.substr(0,s),d=l(e.extend({},n,{term:u}));null!=d?(a(d),o=o.substr(s+1)||"",s=0):s++}else s++}return{term:o}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",t.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){var i=this;this.current(function(a){var r=null!=a?a.length:0;return i.maximumSelectionLength>0&&r>=i.maximumSelectionLength?void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):void e.call(i,t,n)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),i=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(t,n,i){var a=this;t.call(this,n,i),this.$search.on("keydown",function(e){a.trigger("keypress",e),a._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){a.handleSearch(e)}),n.on("open",function(){a.$search.attr("tabindex",0),a.$search.focus(),window.setTimeout(function(){a.$search.focus()},0)}),n.on("close",function(){a.$search.attr("tabindex",-1),a.$search.val("")}),n.on("focus",function(){n.isOpen()&&a.$search.focus()}),n.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(a.showSearch(e)?a.$searchContainer.removeClass("select2-search--hide"):a.$searchContainer.addClass("select2-search--hide"))})},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;i>=0;i--){var a=t[i];this.placeholder.id===a.id&&n.splice(i,1)}return n},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,n,i){var a=this;t.call(this,n,i),n.on("query",function(e){a.lastParams=e,a.loading=!0}),n.on("query:append",function(e){a.lastParams=e,a.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,a.$loadingMore[0]);!a.loading&&t&&(a.$results.offset().top+a.$results.outerHeight(!1)+50>=a.$loadingMore.offset().top+a.$loadingMore.outerHeight(!1)&&a.loadMore())})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,i){this.$dropdownParent=i.get("dropdownParent")||e(document.body),t.call(this,n,i)}return n.prototype.bind=function(e,t,n){var i=this,a=!1;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),a||(a=!0,t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),i=t.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var a=this,r="scroll.select2."+i.id,o="resize.select2."+i.id,s="orientationchange.select2."+i.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(r,function(t){var n=e(this).data("select2-scroll-position");e(this).scrollTop(n.y)}),e(window).on(r+" "+o+" "+s,function(e){a._positionDropdown(),a._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var a="scroll.select2."+i.id,r="resize.select2."+i.id,o="orientationchange.select2."+i.id;this.$container.parents().filter(t.hasScroll).off(a),e(window).off(a+" "+r+" "+o)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),a=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=r.top,o.bottom=r.top+o.height;var s=this.$dropdown.outerHeight(!1),l=t.scrollTop(),c=t.scrollTop()+t.height(),u=l<r.top-s,d=c>r.bottom+s,h={left:r.left,top:o.bottom},p=this.$dropdownParent;"static"===p.css("position")&&(p=p.offsetParent());var f=p.offset();h.top-=f.top,h.left-=f.left,n||i||(a="below"),d||!u||n?!u&&d&&n&&(a="below"):a="above",("above"==a||n&&"below"!==a)&&(h.top=o.top-f.top-s),null!=a&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+a),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+a)),this.$dropdownContainer.css(h)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,i=0;i<t.length;i++){var a=t[i];a.children?n+=e(a.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(e){i._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var a=i.data("data");null!=a.element&&a.element.selected||null==a.element&&a.selected||this.trigger("select",{data:a})}},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,i,a,r,o,s,l,c,u,d,h,p,f,m,g,v,y,k,b,w,x,_,C,D,S,E,$){function A(){this.reset()}return A.prototype.apply=function(d){if(null==(d=e.extend(!0,{},this.defaults,d)).dataAdapter){if(null!=d.ajax?d.dataAdapter=f:null!=d.data?d.dataAdapter=p:d.dataAdapter=h,d.minimumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,k)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,m)),(null!=d.tokenSeparators||null!=d.tokenizer)&&(d.dataAdapter=c.Decorate(d.dataAdapter,g)),null!=d.query){var $=t(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,$)}if(null!=d.initSelection){var A=t(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,A)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,_)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,x)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,S))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=b;else{var P=c.Decorate(b,w);d.dropdownAdapter=P}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,D)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,E)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var O=t(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,O)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,C)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=a:d.selectionAdapter=i,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,r)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,o)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var M=t(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,M)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(d.language.indexOf("-")>0){var T=d.language.split("-")[0];d.language=[d.language,T]}else d.language=[d.language];if(e.isArray(d.language)){var R=new u;d.language.push("en");for(var j=d.language,I=0;I<j.length;I++){var L=j[I],N={};try{N=u.loadPath(L)}catch(e){try{L=this.defaults.amdLanguageBase+L,N=u.loadPath(L)}catch(e){d.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+L+'" could not be automatically loaded. A fallback will be used instead.');continue}}R.extend(N)}d.translations=R}else{var F=u.loadPath(this.defaults.amdLanguageBase+"en"),H=new u(d.language);H.extend(F),d.translations=H}return d},A.prototype.reset=function(){function t(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return d[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:$,matcher:function n(i,a){if(""===e.trim(i.term))return a;if(a.children&&a.children.length>0){for(var r=e.extend(!0,{},a),o=a.children.length-1;o>=0;o--)null==n(i,a.children[o])&&r.children.splice(o,1);return r.children.length>0?r:n(i,r)}var s=t(a.text).toUpperCase(),l=t(i.term).toUpperCase();return s.indexOf(l)>-1?a:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},A.prototype.set=function(t,n){var i={};i[e.camelCase(t)]=n;var a=c._convertData(i);e.extend(this.defaults,a)},new A}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,i){function a(t,a){if(this.options=t,null!=a&&this.fromElement(a),this.options=n.apply(this.options),a&&a.is("input")){var r=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,r)}}return a.prototype.fromElement=function(e){var n=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var a;a=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var r=t.extend(!0,{},a);for(var o in r=i._convertData(r))t.inArray(o,n)>-1||(t.isPlainObject(this.options[o])?t.extend(this.options[o],r[o]):this.options[o]=r[o]);return this},a.prototype.get=function(e){return this.options[e]},a.prototype.set=function(e,t){this.options[e]=t},a}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,i){var a=function e(n,i){null!=n.data("select2")&&n.data("select2").destroy(),this.$element=n,this.id=this._generateId(n),i=i||{},this.options=new t(i,n),e.__super__.constructor.call(this);var a=n.attr("tabindex")||0;n.data("old-tabindex",a),n.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(n,this.options);var o=this.render();this._placeContainer(o);var s=this.options.get("selectionAdapter");this.selection=new s(n,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var l=this.options.get("dropdownAdapter");this.dropdown=new l(n,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var c=this.options.get("resultsAdapter");this.results=new c(n,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){u.trigger("selection:update",{data:e})}),n.addClass("select2-hidden-accessible"),n.attr("aria-hidden","true"),this._syncAttributes(),n.data("select2",this)};return n.Extend(a,n.Observable),a.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},a.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},a.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var a=e.outerWidth(!1);return 0>=a?"auto":a+"px"}if("style"==t){var r=e.attr("style");if("string"!=typeof r)return null;for(var o=r.split(";"),s=0,l=o.length;l>s;s+=1){var c=o[s].replace(/\s/g,"").match(n);if(null!==c&&c.length>=1)return c[1]}return null}return t},a.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},a.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){e.each(n,t._syncA),e.each(n,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},a.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},a.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(i,a){-1===e.inArray(i,n)&&t.trigger(i,a)})},a.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},a.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},a.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(n){e.trigger("results:all",{data:n,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(n){e.trigger("results:append",{data:n,query:t})})}),this.on("keypress",function(t){var n=t.which;e.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&t.altKey?(e.close(),t.preventDefault()):n===i.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===i.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===i.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===i.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},a.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},a.prototype._syncSubtree=function(e,t){var n=!1,i=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(var a=0;a<t.addedNodes.length;a++){t.addedNodes[a].selected&&(n=!0)}else t.removedNodes&&t.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(e){i.trigger("selection:update",{data:e})})}},a.prototype.trigger=function(e,t){var n=a.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===t&&(t={}),e in i){var r=i[e],o={prevented:!1,name:e,args:t};if(n.call(this,r,o),o.prevented)return void(t.prevented=!0)}n.call(this,e,t)},a.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},a.prototype.open=function(){this.isOpen()||this.trigger("query",{})},a.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},a.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},a.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},a.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},a.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==e||0===e.length)&&(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},a.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},a.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("change")},a.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},a.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},a}),t.define("select2/compat/utils",["jquery"],function(e){return{syncCssClasses:function(t,n,i){var a,r,o=[];(a=e.trim(t.attr("class")))&&e((a=""+a).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&o.push(this)}),(a=e.trim(n.attr("class")))&&e((a=""+a).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(r=i(this))&&o.push(r)}),t.attr("class",o.join(" "))}}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(e,t){function n(e){return null}function i(){}return i.prototype.render=function(i){var a=i.call(this),r=this.options.get("containerCssClass")||"";e.isFunction(r)&&(r=r(this.$element));var o=this.options.get("adaptContainerCssClass");if(o=o||n,-1!==r.indexOf(":all:")){r=r.replace(":all:","");var s=o;o=function(e){var t=s(e);return null!=t?t+" "+e:e}}var l=this.options.get("containerCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(a,this.$element,o),a.css(l),a.addClass(r),a},i}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(e,t){function n(e){return null}function i(){}return i.prototype.render=function(i){var a=i.call(this),r=this.options.get("dropdownCssClass")||"";e.isFunction(r)&&(r=r(this.$element));var o=this.options.get("adaptDropdownCssClass");if(o=o||n,-1!==r.indexOf(":all:")){r=r.replace(":all:","");var s=o;o=function(e){var t=s(e);return null!=t?t+" "+e:e}}var l=this.options.get("dropdownCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(a,this.$element,o),a.css(l),a.addClass(r),a},i}),t.define("select2/compat/initSelection",["jquery"],function(e){function t(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,e.call(this,t,n)}return t.prototype.current=function(t,n){var i=this;return this._isInitialized?void t.call(this,n):void this.initSelection.call(null,this.$element,function(t){i._isInitialized=!0,e.isArray(t)||(t=[t]),n(t)})},t}),t.define("select2/compat/inputData",["jquery"],function(e){function t(e,t,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===t.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,n)}return t.prototype.current=function(t,n){function i(t,n){var a=[];return t.selected||-1!==e.inArray(t.id,n)?(t.selected=!0,a.push(t)):t.selected=!1,t.children&&a.push.apply(a,i(t.children,n)),a}for(var a=[],r=0;r<this._currentData.length;r++){var o=this._currentData[r];a.push.apply(a,i(o,this.$element.val().split(this._valueSeparator)))}n(a)},t.prototype.select=function(t,n){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+n.id,this.$element.val(i),this.$element.trigger("change")}else this.current(function(t){e.map(t,function(e){e.selected=!1})}),this.$element.val(n.id),this.$element.trigger("change")},t.prototype.unselect=function(e,t){var n=this;t.selected=!1,this.current(function(e){for(var i=[],a=0;a<e.length;a++){var r=e[a];t.id!=r.id&&i.push(r.id)}n.$element.val(i.join(n._valueSeparator)),n.$element.trigger("change")})},t.prototype.query=function(e,t,n){for(var i=[],a=0;a<this._currentData.length;a++){var r=this._currentData[a],o=this.matches(t,r);null!==o&&i.push(o)}n({results:i})},t.prototype.addOptions=function(t,n){var i=e.map(n,function(t){return e.data(t[0],"data")});this._currentData.push.apply(this._currentData,i)},t}),t.define("select2/compat/matcher",["jquery"],function(e){return function(t){return function(n,i){var a=e.extend(!0,{},i);if(null==n.term||""===e.trim(n.term))return a;if(i.children){for(var r=i.children.length-1;r>=0;r--){var o=i.children[r];t(n.term,o.text,o)||a.children.splice(r,1)}if(a.children.length>0)return a}return t(n.term,i.text,i)?a:null}}}),t.define("select2/compat/query",[],function(){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.callback=n,this.options.get("query").call(null,t)},e}),t.define("select2/dropdown/attachContainer",[],function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){n.find(".dropdown-wrapper").append(t),t.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},e}),t.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),t.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),n=function(e){function t(t){var o=t||window.event,s=l.call(arguments,1),c=0,d=0,h=0,p=0,f=0,m=0;if((t=e.event.fix(o)).type="mousewheel","detail"in o&&(h=-1*o.detail),"wheelDelta"in o&&(h=o.wheelDelta),"wheelDeltaY"in o&&(h=o.wheelDeltaY),"wheelDeltaX"in o&&(d=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(d=-1*h,h=0),c=0===h?d:h,"deltaY"in o&&(c=h=-1*o.deltaY),"deltaX"in o&&(d=o.deltaX,0===h&&(c=-1*d)),0!==h||0!==d){if(1===o.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,h*=g,d*=g}else if(2===o.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,h*=v,d*=v}if(p=Math.max(Math.abs(h),Math.abs(d)),(!r||r>p)&&(r=p,i(o,p)&&(r/=40)),i(o,p)&&(c/=40,d/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/r),d=Math[d>=1?"floor":"ceil"](d/r),h=Math[h>=1?"floor":"ceil"](h/r),u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=t.clientX-y.left,m=t.clientY-y.top}return t.deltaX=d,t.deltaY=h,t.deltaFactor=r,t.offsetX=f,t.offsetY=m,t.deltaMode=0,s.unshift(t,c,d,h),a&&clearTimeout(a),a=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){r=null}function i(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var a,r,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=o.length;c;)e.event.fixHooks[o[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"function"==typeof t.define&&t.define.amd?t.define("jquery-mousewheel",["jquery"],n):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=n:n(e),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,n,i){if(null==e.fn.select2){var a=["open","close","destroy"];e.fn.select2=function(t){if("object"==_typeof(t=t||{}))return this.each(function(){var i=e.extend(!0,{},t);new n(e(this),i)}),this;if("string"==typeof t){var i,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),i=n[t].apply(n,r)}),e.inArray(t,a)>-1?this:i}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=i),n}),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n}),function(e,t,n){var i,a,r,o,s,l,c,u;o="datepicker",s=!1,l={classes:"",inline:!1,language:"ru",startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"@",toggleSelected:!0,keyboardNav:!0,position:"bottom left",offset:12,view:"days",minView:"days",showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:",",range:!1,todayButton:!1,clearButton:!1,showEvent:"focus",autoClose:!1,monthsField:"monthsShort",prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:"",onShow:"",onHide:"",onChangeMonth:"",onChangeYear:"",onChangeDecade:"",onChangeView:"",onRenderCell:""},c={ctrlRight:[17,39],ctrlUp:[17,38],ctrlLeft:[17,37],ctrlDown:[17,40],shiftRight:[16,39],shiftUp:[16,38],shiftLeft:[16,37],shiftDown:[16,40],altUp:[18,38],altRight:[18,39],altLeft:[18,37],altDown:[18,40],ctrlShiftUp:[16,17,38]},(r=u=function(e,a){this.el=e,this.$el=t(e),this.opts=t.extend(!0,{},l,a,this.$el.data()),i==n&&(i=t("body")),this.opts.startDate||(this.opts.startDate=new Date),"INPUT"==this.el.nodeName&&(this.elIsInput=!0),this.opts.altField&&(this.$altField="string"==typeof this.opts.altField?t(this.opts.altField):this.opts.altField),this.inited=!1,this.visible=!1,this.silent=!1,this.currentDate=this.opts.startDate,this.currentView=this.opts.view,this._createShortCuts(),this.selectedDates=[],this.views={},this.keys=[],this.minRange="",this.maxRange="",this._prevOnSelectValue="",this.init()}).prototype={VERSION:"2.2.3",viewIndexes:["days","months","years"],init:function(){s||this.opts.inline||!this.elIsInput||this._buildDatepickersContainer(),this._buildBaseHtml(),this._defineLocale(this.opts.language),this._syncWithMinMaxDates(),this.elIsInput&&(this.opts.inline||(this._setPositionClasses(this.opts.position),this._bindEvents()),this.opts.keyboardNav&&!this.opts.onlyTimepicker&&this._bindKeyboardEvents(),this.$datepicker.on("mousedown",this._onMouseDownDatepicker.bind(this)),this.$datepicker.on("mouseup",this._onMouseUpDatepicker.bind(this))),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.timepicker&&(this.timepicker=new t.fn.datepicker.Timepicker(this,this.opts),this._bindTimepickerEvents()),this.opts.onlyTimepicker&&this.$datepicker.addClass("-only-timepicker-"),this.views[this.currentView]=new t.fn.datepicker.Body(this,this.currentView,this.opts),this.views[this.currentView].show(),this.nav=new t.fn.datepicker.Navigation(this,this.opts),this.view=this.currentView,this.$el.on("clickCell.adp",this._onClickCell.bind(this)),this.$datepicker.on("mouseenter",".datepicker--cell",this._onMouseEnterCell.bind(this)),this.$datepicker.on("mouseleave",".datepicker--cell",this._onMouseLeaveCell.bind(this)),this.inited=!0},_createShortCuts:function(){this.minDate=this.opts.minDate?this.opts.minDate:new Date(-86399999136e5),this.maxDate=this.opts.maxDate?this.opts.maxDate:new Date(86399999136e5)},_bindEvents:function(){this.$el.on(this.opts.showEvent+".adp",this._onShowEvent.bind(this)),this.$el.on("mouseup.adp",this._onMouseUpEl.bind(this)),this.$el.on("blur.adp",this._onBlur.bind(this)),this.$el.on("keyup.adp",this._onKeyUpGeneral.bind(this)),t(e).on("resize.adp",this._onResize.bind(this)),t("body").on("mouseup.adp",this._onMouseUpBody.bind(this))},_bindKeyboardEvents:function(){this.$el.on("keydown.adp",this._onKeyDown.bind(this)),this.$el.on("keyup.adp",this._onKeyUp.bind(this)),this.$el.on("hotKey.adp",this._onHotKey.bind(this))},_bindTimepickerEvents:function(){this.$el.on("timeChange.adp",this._onTimeChange.bind(this))},isWeekend:function(e){return-1!==this.opts.weekends.indexOf(e)},_defineLocale:function(e){"string"==typeof e?(this.loc=t.fn.datepicker.language[e],this.loc||(console.warn("Can't find language \""+e+'" in Datepicker.language, will use "ru" instead'),this.loc=t.extend(!0,{},t.fn.datepicker.language.ru)),this.loc=t.extend(!0,{},t.fn.datepicker.language.ru,t.fn.datepicker.language[e])):this.loc=t.extend(!0,{},t.fn.datepicker.language.ru,e),this.opts.dateFormat&&(this.loc.dateFormat=this.opts.dateFormat),this.opts.timeFormat&&(this.loc.timeFormat=this.opts.timeFormat),""!==this.opts.firstDay&&(this.loc.firstDay=this.opts.firstDay),this.opts.timepicker&&(this.loc.dateFormat=[this.loc.dateFormat,this.loc.timeFormat].join(this.opts.dateTimeSeparator)),this.opts.onlyTimepicker&&(this.loc.dateFormat=this.loc.timeFormat);var n=this._getWordBoundaryRegExp;(this.loc.timeFormat.match(n("aa"))||this.loc.timeFormat.match(n("AA")))&&(this.ampm=!0)},_buildDatepickersContainer:function(){s=!0,i.append('<div class="datepickers-container" id="datepickers-container"></div>'),a=t("#datepickers-container")},_buildBaseHtml:function(){var e,n=t('<div class="datepicker-inline">');e="INPUT"==this.el.nodeName?this.opts.inline?n.insertAfter(this.$el):a:n.appendTo(this.$el),this.$datepicker=t('<div class="datepicker"><i class="datepicker--pointer"></i><nav class="datepicker--nav"></nav><div class="datepicker--content"></div></div>').appendTo(e),this.$content=t(".datepicker--content",this.$datepicker),this.$nav=t(".datepicker--nav",this.$datepicker)},_triggerOnChange:function(){if(!this.selectedDates.length){if(""===this._prevOnSelectValue)return;return this._prevOnSelectValue="",this.opts.onSelect("","",this)}var e,t=this.selectedDates,n=r.getParsedDate(t[0]),i=this,a=new Date(n.year,n.month,n.date,n.hours,n.minutes);e=t.map(function(e){return i.formatDate(i.loc.dateFormat,e)}).join(this.opts.multipleDatesSeparator),(this.opts.multipleDates||this.opts.range)&&(a=t.map(function(e){var t=r.getParsedDate(e);return new Date(t.year,t.month,t.date,t.hours,t.minutes)})),this._prevOnSelectValue=e,this.opts.onSelect(e,a,this)},next:function(){var e=this.parsedDate,t=this.opts;switch(this.view){case"days":this.date=new Date(e.year,e.month+1,1),t.onChangeMonth&&t.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(e.year+1,e.month,1),t.onChangeYear&&t.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(e.year+10,0,1),t.onChangeDecade&&t.onChangeDecade(this.curDecade)}},prev:function(){var e=this.parsedDate,t=this.opts;switch(this.view){case"days":this.date=new Date(e.year,e.month-1,1),t.onChangeMonth&&t.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(e.year-1,e.month,1),t.onChangeYear&&t.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(e.year-10,0,1),t.onChangeDecade&&t.onChangeDecade(this.curDecade)}},formatDate:function(e,t){t=t||this.date;var n,i=e,a=this._getWordBoundaryRegExp,o=this.loc,s=r.getLeadingZeroNum,l=r.getDecade(t),c=r.getParsedDate(t),u=c.fullHours,d=c.hours,h=e.match(a("aa"))||e.match(a("AA")),p="am",f=this._replacer;switch(this.opts.timepicker&&this.timepicker&&h&&(u=s((n=this.timepicker._getValidHoursFromDate(t,h)).hours),d=n.hours,p=n.dayPeriod),!0){case/@/.test(i):i=i.replace(/@/,t.getTime());case/aa/.test(i):i=f(i,a("aa"),p);case/AA/.test(i):i=f(i,a("AA"),p.toUpperCase());case/dd/.test(i):i=f(i,a("dd"),c.fullDate);case/d/.test(i):i=f(i,a("d"),c.date);case/DD/.test(i):i=f(i,a("DD"),o.days[c.day]);case/D/.test(i):i=f(i,a("D"),o.daysShort[c.day]);case/mm/.test(i):i=f(i,a("mm"),c.fullMonth);case/m/.test(i):i=f(i,a("m"),c.month+1);case/MM/.test(i):i=f(i,a("MM"),this.loc.months[c.month]);case/M/.test(i):i=f(i,a("M"),o.monthsShort[c.month]);case/ii/.test(i):i=f(i,a("ii"),c.fullMinutes);case/i/.test(i):i=f(i,a("i"),c.minutes);case/hh/.test(i):i=f(i,a("hh"),u);case/h/.test(i):i=f(i,a("h"),d);case/yyyy/.test(i):i=f(i,a("yyyy"),c.year);case/yyyy1/.test(i):i=f(i,a("yyyy1"),l[0]);case/yyyy2/.test(i):i=f(i,a("yyyy2"),l[1]);case/yy/.test(i):i=f(i,a("yy"),c.year.toString().slice(-2))}return i},_replacer:function(e,t,n){return e.replace(t,function(e,t,i,a){return t+n+a})},_getWordBoundaryRegExp:function(e){var t="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+t+")("+e+")($|<|"+t+")","g")},selectDate:function(e){var t=this,n=t.opts,i=t.parsedDate,a=t.selectedDates.length,o="";if(Array.isArray(e))e.forEach(function(e){t.selectDate(e)});else if(e instanceof Date){if(this.lastSelectedDate=e,this.timepicker&&this.timepicker._setTime(e),t._trigger("selectDate",e),this.timepicker&&(e.setHours(this.timepicker.hours),e.setMinutes(this.timepicker.minutes)),"days"==t.view&&e.getMonth()!=i.month&&n.moveToOtherMonthsOnSelect&&(o=new Date(e.getFullYear(),e.getMonth(),1)),"years"==t.view&&e.getFullYear()!=i.year&&n.moveToOtherYearsOnSelect&&(o=new Date(e.getFullYear(),0,1)),o&&(t.silent=!0,t.date=o,t.silent=!1,t.nav._render()),n.multipleDates&&!n.range){if(a===n.multipleDates)return;t._isSelected(e)||t.selectedDates.push(e)}else n.range?2==a?(t.selectedDates=[e],t.minRange=e,t.maxRange=""):1==a?(t.selectedDates.push(e),t.maxRange?t.minRange=e:t.maxRange=e,r.bigger(t.maxRange,t.minRange)&&(t.maxRange=t.minRange,t.minRange=e),t.selectedDates=[t.minRange,t.maxRange]):(t.selectedDates=[e],t.minRange=e):t.selectedDates=[e];t._setInputValue(),n.onSelect&&t._triggerOnChange(),n.autoClose&&!this.timepickerIsActive&&(n.multipleDates||n.range?n.range&&2==t.selectedDates.length&&t.hide():t.hide()),t.views[this.currentView]._render()}},removeDate:function(e){var t=this.selectedDates,n=this;if(e instanceof Date)return t.some(function(i,a){return r.isSame(i,e)?(t.splice(a,1),n.selectedDates.length?n.lastSelectedDate=n.selectedDates[n.selectedDates.length-1]:(n.minRange="",n.maxRange="",n.lastSelectedDate=""),n.views[n.currentView]._render(),n._setInputValue(),n.opts.onSelect&&n._triggerOnChange(),!0):void 0})},today:function(){this.silent=!0,this.view=this.opts.minView,this.silent=!1,this.date=new Date,this.opts.todayButton instanceof Date&&this.selectDate(this.opts.todayButton)},clear:function(){this.selectedDates=[],this.minRange="",this.maxRange="",this.views[this.currentView]._render(),this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()},update:function(e,n){var i=arguments.length,a=this.lastSelectedDate;return 2==i?this.opts[e]=n:1==i&&"object"==_typeof(e)&&(this.opts=t.extend(!0,this.opts,e)),this._createShortCuts(),this._syncWithMinMaxDates(),this._defineLocale(this.opts.language),this.nav._addButtonsIfNeed(),this.opts.onlyTimepicker||this.nav._render(),this.views[this.currentView]._render(),this.elIsInput&&!this.opts.inline&&(this._setPositionClasses(this.opts.position),this.visible&&this.setPosition(this.opts.position)),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.onlyTimepicker&&this.$datepicker.addClass("-only-timepicker-"),this.opts.timepicker&&(a&&this.timepicker._handleDate(a),this.timepicker._updateRanges(),this.timepicker._updateCurrentTime(),a&&(a.setHours(this.timepicker.hours),a.setMinutes(this.timepicker.minutes))),this._setInputValue(),this},_syncWithMinMaxDates:function(){var e=this.date.getTime();this.silent=!0,this.minTime>e&&(this.date=this.minDate),this.maxTime<e&&(this.date=this.maxDate),this.silent=!1},_isSelected:function(e,t){var n=!1;return this.selectedDates.some(function(i){return r.isSame(i,e,t)?(n=i,!0):void 0}),n},_setInputValue:function(){var e,t=this,n=t.opts,i=t.loc.dateFormat,a=n.altFieldDateFormat,r=t.selectedDates.map(function(e){return t.formatDate(i,e)});n.altField&&t.$altField.length&&(e=(e=this.selectedDates.map(function(e){return t.formatDate(a,e)})).join(this.opts.multipleDatesSeparator),this.$altField.val(e)),r=r.join(this.opts.multipleDatesSeparator),this.$el.val(r)},_isInRange:function(e,t){var n=e.getTime(),i=r.getParsedDate(e),a=r.getParsedDate(this.minDate),o=r.getParsedDate(this.maxDate),s=new Date(i.year,i.month,a.date).getTime(),l=new Date(i.year,i.month,o.date).getTime(),c={day:n>=this.minTime&&n<=this.maxTime,month:s>=this.minTime&&l<=this.maxTime,year:i.year>=a.year&&i.year<=o.year};return t?c[t]:c.day},_getDimensions:function(e){var t=e.offset();return{width:e.outerWidth(),height:e.outerHeight(),left:t.left,top:t.top}},_getDateFromCell:function(e){var t=this.parsedDate,i=e.data("year")||t.year,a=e.data("month")==n?t.month:e.data("month"),r=e.data("date")||1;return new Date(i,a,r)},_setPositionClasses:function(e){var t=(e=e.split(" "))[0],n="datepicker -"+t+"-"+e[1]+"- -from-"+t+"-";this.visible&&(n+=" active"),this.$datepicker.removeAttr("class").addClass(n)},setPosition:function(e){e=e||this.opts.position;var t,n,i=this._getDimensions(this.$el),a=this._getDimensions(this.$datepicker),r=e.split(" "),o=this.opts.offset,s=r[0],l=r[1];switch(s){case"top":t=i.top-a.height-o;break;case"right":n=i.left+i.width+o;break;case"bottom":t=i.top+i.height+o;break;case"left":n=i.left-a.width-o}switch(l){case"top":t=i.top;break;case"right":n=i.left+i.width-a.width;break;case"bottom":t=i.top+i.height-a.height;break;case"left":n=i.left;break;case"center":/left|right/.test(s)?t=i.top+i.height/2-a.height/2:n=i.left+i.width/2-a.width/2}this.$datepicker.css({left:n,top:t})},show:function(){var e=this.opts.onShow;this.setPosition(this.opts.position),this.$datepicker.addClass("active"),this.visible=!0,e&&this._bindVisionEvents(e)},hide:function(){var e=this.opts.onHide;this.$datepicker.removeClass("active").css({left:"-100000px"}),this.focused="",this.keys=[],this.inFocus=!1,this.visible=!1,this.$el.blur(),e&&this._bindVisionEvents(e)},down:function(e){this._changeView(e,"down")},up:function(e){this._changeView(e,"up")},_bindVisionEvents:function(e){this.$datepicker.off("transitionend.dp"),e(this,!1),this.$datepicker.one("transitionend.dp",e.bind(this,this,!0))},_changeView:function(e,t){e=e||this.focused||this.date;var n="up"==t?this.viewIndex+1:this.viewIndex-1;n>2&&(n=2),0>n&&(n=0),this.silent=!0,this.date=new Date(e.getFullYear(),e.getMonth(),1),this.silent=!1,this.view=this.viewIndexes[n]},_handleHotKey:function(e){var t,n,i,a=r.getParsedDate(this._getFocusedDate()),o=this.opts,s=!1,l=!1,c=!1,u=a.year,d=a.month,h=a.date;switch(e){case"ctrlRight":case"ctrlUp":d+=1,s=!0;break;case"ctrlLeft":case"ctrlDown":d-=1,s=!0;break;case"shiftRight":case"shiftUp":l=!0,u+=1;break;case"shiftLeft":case"shiftDown":l=!0,u-=1;break;case"altRight":case"altUp":c=!0,u+=10;break;case"altLeft":case"altDown":c=!0,u-=10;break;case"ctrlShiftUp":this.up()}i=r.getDaysCount(new Date(u,d)),n=new Date(u,d,h),h>i&&(h=i),n.getTime()<this.minTime?n=this.minDate:n.getTime()>this.maxTime&&(n=this.maxDate),this.focused=n,t=r.getParsedDate(n),s&&o.onChangeMonth&&o.onChangeMonth(t.month,t.year),l&&o.onChangeYear&&o.onChangeYear(t.year),c&&o.onChangeDecade&&o.onChangeDecade(this.curDecade)},_registerKey:function(e){this.keys.some(function(t){return t==e})||this.keys.push(e)},_unRegisterKey:function(e){var t=this.keys.indexOf(e);this.keys.splice(t,1)},_isHotKeyPressed:function(){var e,t=!1,n=this.keys.sort();for(var i in c)e=c[i],n.length==e.length&&e.every(function(e,t){return e==n[t]})&&(this._trigger("hotKey",i),t=!0);return t},_trigger:function(e,t){this.$el.trigger(e,t)},_focusNextCell:function(e,t){t=t||this.cellType;var n=r.getParsedDate(this._getFocusedDate()),i=n.year,a=n.month,o=n.date;if(!this._isHotKeyPressed()){switch(e){case 37:"day"==t&&(o-=1),"month"==t&&(a-=1),"year"==t&&(i-=1);break;case 38:"day"==t&&(o-=7),"month"==t&&(a-=3),"year"==t&&(i-=4);break;case 39:"day"==t&&(o+=1),"month"==t&&(a+=1),"year"==t&&(i+=1);break;case 40:"day"==t&&(o+=7),"month"==t&&(a+=3),"year"==t&&(i+=4)}var s=new Date(i,a,o);s.getTime()<this.minTime?s=this.minDate:s.getTime()>this.maxTime&&(s=this.maxDate),this.focused=s}},_getFocusedDate:function(){var e=this.focused||this.selectedDates[this.selectedDates.length-1],t=this.parsedDate;if(!e)switch(this.view){case"days":e=new Date(t.year,t.month,(new Date).getDate());break;case"months":e=new Date(t.year,t.month,1);break;case"years":e=new Date(t.year,0,1)}return e},_getCell:function(e,n){n=n||this.cellType;var i,a=r.getParsedDate(e),o='.datepicker--cell[data-year="'+a.year+'"]';switch(n){case"month":o='[data-month="'+a.month+'"]';break;case"day":o+='[data-month="'+a.month+'"][data-date="'+a.date+'"]'}return(i=this.views[this.currentView].$el.find(o)).length?i:t("")},destroy:function(){var e=this;e.$el.off(".adp").data("datepicker",""),e.selectedDates=[],e.focused="",e.views={},e.keys=[],e.minRange="",e.maxRange="",e.opts.inline||!e.elIsInput?e.$datepicker.closest(".datepicker-inline").remove():e.$datepicker.remove()},_handleAlreadySelectedDates:function(e,t){this.opts.range?this.opts.toggleSelected?this.removeDate(t):2!=this.selectedDates.length&&this._trigger("clickCell",t):this.opts.toggleSelected&&this.removeDate(t),this.opts.toggleSelected||(this.lastSelectedDate=e,this.opts.timepicker&&(this.timepicker._setTime(e),this.timepicker.update()))},_onShowEvent:function(e){this.visible||this.show()},_onBlur:function(){!this.inFocus&&this.visible&&this.hide()},_onMouseDownDatepicker:function(e){this.inFocus=!0},_onMouseUpDatepicker:function(e){this.inFocus=!1,e.originalEvent.inFocus=!0,e.originalEvent.timepickerFocus||this.$el.focus()},_onKeyUpGeneral:function(e){this.$el.val()||this.clear()},_onResize:function(){this.visible&&this.setPosition()},_onMouseUpBody:function(e){e.originalEvent.inFocus||this.visible&&!this.inFocus&&this.hide()},_onMouseUpEl:function(e){e.originalEvent.inFocus=!0,setTimeout(this._onKeyUpGeneral.bind(this),4)},_onKeyDown:function(e){var t=e.which;if(this._registerKey(t),t>=37&&40>=t&&(e.preventDefault(),this._focusNextCell(t)),13==t&&this.focused){if(this._getCell(this.focused).hasClass("-disabled-"))return;if(this.view!=this.opts.minView)this.down();else{var n=this._isSelected(this.focused,this.cellType);if(!n)return this.timepicker&&(this.focused.setHours(this.timepicker.hours),this.focused.setMinutes(this.timepicker.minutes)),void this.selectDate(this.focused);this._handleAlreadySelectedDates(n,this.focused)}}27==t&&this.hide()},_onKeyUp:function(e){var t=e.which;this._unRegisterKey(t)},_onHotKey:function(e,t){this._handleHotKey(t)},_onMouseEnterCell:function(e){var n=t(e.target).closest(".datepicker--cell"),i=this._getDateFromCell(n);this.silent=!0,this.focused&&(this.focused=""),n.addClass("-focus-"),this.focused=i,this.silent=!1,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",r.less(this.minRange,this.focused)&&(this.maxRange=this.minRange,this.minRange=""),this.views[this.currentView]._update())},_onMouseLeaveCell:function(e){t(e.target).closest(".datepicker--cell").removeClass("-focus-"),this.silent=!0,this.focused="",this.silent=!1},_onTimeChange:function(e,t,n){var i=new Date,a=!1;this.selectedDates.length&&(a=!0,i=this.lastSelectedDate),i.setHours(t),i.setMinutes(n),a||this._getCell(i).hasClass("-disabled-")?(this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()):this.selectDate(i)},_onClickCell:function(e,t){this.timepicker&&(t.setHours(this.timepicker.hours),t.setMinutes(this.timepicker.minutes)),this.selectDate(t)},set focused(e){if(!e&&this.focused){var t=this._getCell(this.focused);t.length&&t.removeClass("-focus-")}this._focused=e,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",r.less(this.minRange,this._focused)&&(this.maxRange=this.minRange,this.minRange="")),this.silent||(this.date=e)},get focused(){return this._focused},get parsedDate(){return r.getParsedDate(this.date)},set date(e){return e instanceof Date?(this.currentDate=e,this.inited&&!this.silent&&(this.views[this.view]._render(),this.nav._render(),this.visible&&this.elIsInput&&this.setPosition()),e):void 0},get date(){return this.currentDate},set view(e){return this.viewIndex=this.viewIndexes.indexOf(e),this.viewIndex<0?void 0:(this.prevView=this.currentView,this.currentView=e,this.inited&&(this.views[e]?this.views[e]._render():this.views[e]=new t.fn.datepicker.Body(this,e,this.opts),this.views[this.prevView].hide(),this.views[e].show(),this.nav._render(),this.opts.onChangeView&&this.opts.onChangeView(e),this.elIsInput&&this.visible&&this.setPosition()),e)},get view(){return this.currentView},get cellType(){return this.view.substring(0,this.view.length-1)},get minTime(){var e=r.getParsedDate(this.minDate);return new Date(e.year,e.month,e.date).getTime()},get maxTime(){var e=r.getParsedDate(this.maxDate);return new Date(e.year,e.month,e.date).getTime()},get curDecade(){return r.getDecade(this.date)}},r.getDaysCount=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},r.getParsedDate=function(e){return{year:e.getFullYear(),month:e.getMonth(),fullMonth:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,date:e.getDate(),fullDate:e.getDate()<10?"0"+e.getDate():e.getDate(),day:e.getDay(),hours:e.getHours(),fullHours:e.getHours()<10?"0"+e.getHours():e.getHours(),minutes:e.getMinutes(),fullMinutes:e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()}},r.getDecade=function(e){var t=10*Math.floor(e.getFullYear()/10);return[t,t+9]},r.template=function(e,t){return e.replace(/#\{([\w]+)\}/g,function(e,n){return t[n]||0===t[n]?t[n]:void 0})},r.isSame=function(e,t,n){if(!e||!t)return!1;var i=r.getParsedDate(e),a=r.getParsedDate(t),o=n||"day";return{day:i.date==a.date&&i.month==a.month&&i.year==a.year,month:i.month==a.month&&i.year==a.year,year:i.year==a.year}[o]},r.less=function(e,t,n){return!(!e||!t)&&t.getTime()<e.getTime()},r.bigger=function(e,t,n){return!(!e||!t)&&t.getTime()>e.getTime()},r.getLeadingZeroNum=function(e){return parseInt(e)<10?"0"+e:e},r.resetTime=function(e){return"object"==_typeof(e)?(e=r.getParsedDate(e),new Date(e.year,e.month,e.date)):void 0},t.fn.datepicker=function(e){return this.each(function(){if(t.data(this,o)){var n=t.data(this,o);n.opts=t.extend(!0,n.opts,e),n.update()}else t.data(this,o,new u(this,e))})},t.fn.datepicker.Constructor=u,t.fn.datepicker.language={ru:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.mm.yyyy",timeFormat:"hh:ii",firstDay:1}},t(function(){t(".datepicker-here").datepicker()}),function(){var e={days:'<div class="datepicker--days datepicker--body"><div class="datepicker--days-names"></div><div class="datepicker--cells datepicker--cells-days"></div></div>',months:'<div class="datepicker--months datepicker--body"><div class="datepicker--cells datepicker--cells-months"></div></div>',years:'<div class="datepicker--years datepicker--body"><div class="datepicker--cells datepicker--cells-years"></div></div>'},i=t.fn.datepicker,a=i.Constructor;i.Body=function(e,n,i){this.d=e,this.type=n,this.opts=i,this.$el=t(""),this.opts.onlyTimepicker||this.init()},i.Body.prototype={init:function(){this._buildBaseHtml(),this._render(),this._bindEvents()},_bindEvents:function(){this.$el.on("click",".datepicker--cell",t.proxy(this._onClickCell,this))},_buildBaseHtml:function(){this.$el=t(e[this.type]).appendTo(this.d.$content),this.$names=t(".datepicker--days-names",this.$el),this.$cells=t(".datepicker--cells",this.$el)},_getDayNamesHtml:function(e,t,i,a){return t=t!=n?t:e,i=i||"",(a=a!=n?a:0)>7?i:7==t?this._getDayNamesHtml(e,0,i,++a):(i+='<div class="datepicker--day-name'+(this.d.isWeekend(t)?" -weekend-":"")+'">'+this.d.loc.daysMin[t]+"</div>",this._getDayNamesHtml(e,++t,i,++a))},_getCellContents:function(e,t){var n="datepicker--cell datepicker--cell-"+t,i=new Date,r=this.d,o=a.resetTime(r.minRange),s=a.resetTime(r.maxRange),l=r.opts,c=a.getParsedDate(e),u={},d=c.date;switch(t){case"day":r.isWeekend(c.day)&&(n+=" -weekend-"),c.month!=this.d.parsedDate.month&&(n+=" -other-month-",l.selectOtherMonths||(n+=" -disabled-"),l.showOtherMonths||(d=""));break;case"month":d=r.loc[r.opts.monthsField][c.month];break;case"year":var h=r.curDecade;d=c.year,(c.year<h[0]||c.year>h[1])&&(n+=" -other-decade-",l.selectOtherYears||(n+=" -disabled-"),l.showOtherYears||(d=""))}return l.onRenderCell&&(d=(u=l.onRenderCell(e,t)||{}).html?u.html:d,n+=u.classes?" "+u.classes:""),l.range&&(a.isSame(o,e,t)&&(n+=" -range-from-"),a.isSame(s,e,t)&&(n+=" -range-to-"),1==r.selectedDates.length&&r.focused?((a.bigger(o,e)&&a.less(r.focused,e)||a.less(s,e)&&a.bigger(r.focused,e))&&(n+=" -in-range-"),a.less(s,e)&&a.isSame(r.focused,e)&&(n+=" -range-from-"),a.bigger(o,e)&&a.isSame(r.focused,e)&&(n+=" -range-to-")):2==r.selectedDates.length&&a.bigger(o,e)&&a.less(s,e)&&(n+=" -in-range-")),a.isSame(i,e,t)&&(n+=" -current-"),r.focused&&a.isSame(e,r.focused,t)&&(n+=" -focus-"),r._isSelected(e,t)&&(n+=" -selected-"),(!r._isInRange(e,t)||u.disabled)&&(n+=" -disabled-"),{html:d,classes:n}},_getDaysHtml:function(e){for(var t,n,i=a.getDaysCount(e),r=new Date(e.getFullYear(),e.getMonth(),1).getDay(),o=new Date(e.getFullYear(),e.getMonth(),i).getDay(),s=r-this.d.loc.firstDay,l=6-o+this.d.loc.firstDay,c="",u=1-(s=0>s?s+7:s),d=i+(l=l>6?l-7:l);d>=u;u++)n=e.getFullYear(),t=e.getMonth(),c+=this._getDayHtml(new Date(n,t,u));return c},_getDayHtml:function(e){var t=this._getCellContents(e,"day");return'<div class="'+t.classes+'" data-date="'+e.getDate()+'" data-month="'+e.getMonth()+'" data-year="'+e.getFullYear()+'">'+t.html+"</div>"},_getMonthsHtml:function(e){for(var t="",n=a.getParsedDate(e),i=0;12>i;)t+=this._getMonthHtml(new Date(n.year,i)),i++;return t},_getMonthHtml:function(e){var t=this._getCellContents(e,"month");return'<div class="'+t.classes+'" data-month="'+e.getMonth()+'">'+t.html+"</div>"},_getYearsHtml:function(e){for(var t=(a.getParsedDate(e),a.getDecade(e)),n="",i=t[0]-1;i<=t[1]+1;i++)n+=this._getYearHtml(new Date(i,0));return n},_getYearHtml:function(e){var t=this._getCellContents(e,"year");return'<div class="'+t.classes+'" data-year="'+e.getFullYear()+'">'+t.html+"</div>"},_renderTypes:{days:function(){var e=this._getDayNamesHtml(this.d.loc.firstDay),t=this._getDaysHtml(this.d.currentDate);this.$cells.html(t),this.$names.html(e)},months:function(){var e=this._getMonthsHtml(this.d.currentDate);this.$cells.html(e)},years:function(){var e=this._getYearsHtml(this.d.currentDate);this.$cells.html(e)}},_render:function(){this.opts.onlyTimepicker||this._renderTypes[this.type].bind(this)()},_update:function(){var e,n,i,a=t(".datepicker--cell",this.$cells),r=this;a.each(function(a,o){n=t(this),i=r.d._getDateFromCell(t(this)),e=r._getCellContents(i,r.d.cellType),n.attr("class",e.classes)})},show:function(){this.opts.onlyTimepicker||(this.$el.addClass("active"),this.acitve=!0)},hide:function(){this.$el.removeClass("active"),this.active=!1},_handleClick:function(e){var t=e.data("date")||1,n=e.data("month")||0,i=e.data("year")||this.d.parsedDate.year,a=this.d;if(a.view==this.opts.minView){var r=new Date(i,n,t),o=this.d._isSelected(r,this.d.cellType);return o?void a._handleAlreadySelectedDates.bind(a,o,r)():void a._trigger("clickCell",r)}a.down(new Date(i,n,t))},_onClickCell:function(e){var n=t(e.target).closest(".datepicker--cell");n.hasClass("-disabled-")||this._handleClick.bind(this)(n)}}}(),function(){var e=t.fn.datepicker,n=e.Constructor;e.Navigation=function(e,t){this.d=e,this.opts=t,this.$buttonsContainer="",this.init()},e.Navigation.prototype={init:function(){this._buildBaseHtml(),this._bindEvents()},_bindEvents:function(){this.d.$nav.on("click",".datepicker--nav-action",t.proxy(this._onClickNavButton,this)),this.d.$nav.on("click",".datepicker--nav-title",t.proxy(this._onClickNavTitle,this)),this.d.$datepicker.on("click",".datepicker--button",t.proxy(this._onClickNavButton,this))},_buildBaseHtml:function(){this.opts.onlyTimepicker||this._render(),this._addButtonsIfNeed()},_addButtonsIfNeed:function(){this.opts.todayButton&&this._addButton("today"),this.opts.clearButton&&this._addButton("clear")},_render:function(){var e=this._getTitle(this.d.currentDate),i=n.template('<div class="datepicker--nav-action" data-action="prev">#{prevHtml}</div><div class="datepicker--nav-title">#{title}</div><div class="datepicker--nav-action" data-action="next">#{nextHtml}</div>',t.extend({title:e},this.opts));this.d.$nav.html(i),"years"==this.d.view&&t(".datepicker--nav-title",this.d.$nav).addClass("-disabled-"),this.setNavStatus()},_getTitle:function(e){return this.d.formatDate(this.opts.navTitles[this.d.view],e)},_addButton:function(e){this.$buttonsContainer.length||this._addButtonsContainer();var i={action:e,label:this.d.loc[e]},a=n.template('<span class="datepicker--button" data-action="#{action}">#{label}</span>',i);t("[data-action="+e+"]",this.$buttonsContainer).length||this.$buttonsContainer.append(a)},_addButtonsContainer:function(){this.d.$datepicker.append('<div class="datepicker--buttons"></div>'),this.$buttonsContainer=t(".datepicker--buttons",this.d.$datepicker)},setNavStatus:function(){if((this.opts.minDate||this.opts.maxDate)&&this.opts.disableNavWhenOutOfRange){var e=this.d.parsedDate,t=e.month,i=e.year,a=e.date;switch(this.d.view){case"days":this.d._isInRange(new Date(i,t-1,1),"month")||this._disableNav("prev"),this.d._isInRange(new Date(i,t+1,1),"month")||this._disableNav("next");break;case"months":this.d._isInRange(new Date(i-1,t,a),"year")||this._disableNav("prev"),this.d._isInRange(new Date(i+1,t,a),"year")||this._disableNav("next");break;case"years":var r=n.getDecade(this.d.date);this.d._isInRange(new Date(r[0]-1,0,1),"year")||this._disableNav("prev"),this.d._isInRange(new Date(r[1]+1,0,1),"year")||this._disableNav("next")}}},_disableNav:function(e){t('[data-action="'+e+'"]',this.d.$nav).addClass("-disabled-")},_activateNav:function(e){t('[data-action="'+e+'"]',this.d.$nav).removeClass("-disabled-")},_onClickNavButton:function(e){var n=t(e.target).closest("[data-action]").data("action");this.d[n]()},_onClickNavTitle:function(e){return t(e.target).hasClass("-disabled-")?void 0:"days"==this.d.view?this.d.view="months":void(this.d.view="years")}}}(),function(){var e=t.fn.datepicker,n=e.Constructor;e.Timepicker=function(e,t){this.d=e,this.opts=t,this.init()},e.Timepicker.prototype={init:function(){var e="input";this._setTime(this.d.date),this._buildHTML(),navigator.userAgent.match(/trident/gi)&&(e="change"),this.d.$el.on("selectDate",this._onSelectDate.bind(this)),this.$ranges.on(e,this._onChangeRange.bind(this)),this.$ranges.on("mouseup",this._onMouseUpRange.bind(this)),this.$ranges.on("mousemove focus ",this._onMouseEnterRange.bind(this)),this.$ranges.on("mouseout blur",this._onMouseOutRange.bind(this))},_setTime:function(e){var t=n.getParsedDate(e);this._handleDate(e),this.hours=t.hours<this.minHours?this.minHours:t.hours,this.minutes=t.minutes<this.minMinutes?this.minMinutes:t.minutes},_setMinTimeFromDate:function(e){this.minHours=e.getHours(),this.minMinutes=e.getMinutes(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()>e.getHours()&&(this.minMinutes=this.opts.minMinutes)},_setMaxTimeFromDate:function(e){this.maxHours=e.getHours(),this.maxMinutes=e.getMinutes(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()<e.getHours()&&(this.maxMinutes=this.opts.maxMinutes)},_setDefaultMinMaxTime:function(){var e=this.opts;this.minHours=e.minHours<0||e.minHours>23?0:e.minHours,this.minMinutes=e.minMinutes<0||e.minMinutes>59?0:e.minMinutes,this.maxHours=e.maxHours<0||e.maxHours>23?23:e.maxHours,this.maxMinutes=e.maxMinutes<0||e.maxMinutes>59?59:e.maxMinutes},_validateHoursMinutes:function(e){this.hours<this.minHours?this.hours=this.minHours:this.hours>this.maxHours&&(this.hours=this.maxHours),this.minutes<this.minMinutes?this.minutes=this.minMinutes:this.minutes>this.maxMinutes&&(this.minutes=this.maxMinutes)},_buildHTML:function(){var e=n.getLeadingZeroNum,i={hourMin:this.minHours,hourMax:e(this.maxHours),hourStep:this.opts.hoursStep,hourValue:this.hours,hourVisible:e(this.displayHours),minMin:this.minMinutes,minMax:e(this.maxMinutes),minStep:this.opts.minutesStep,minValue:e(this.minutes)},a=n.template('<div class="datepicker--time"><div class="datepicker--time-current">   <span class="datepicker--time-current-hours">#{hourVisible}</span>   <span class="datepicker--time-current-colon">:</span>   <span class="datepicker--time-current-minutes">#{minValue}</span></div><div class="datepicker--time-sliders">   <div class="datepicker--time-row">      <input type="range" name="hours" value="#{hourValue}" min="#{hourMin}" max="#{hourMax}" step="#{hourStep}"/>   </div>   <div class="datepicker--time-row">      <input type="range" name="minutes" value="#{minValue}" min="#{minMin}" max="#{minMax}" step="#{minStep}"/>   </div></div></div>',i);this.$timepicker=t(a).appendTo(this.d.$datepicker),this.$ranges=t('[type="range"]',this.$timepicker),this.$hours=t('[name="hours"]',this.$timepicker),this.$minutes=t('[name="minutes"]',this.$timepicker),this.$hoursText=t(".datepicker--time-current-hours",this.$timepicker),this.$minutesText=t(".datepicker--time-current-minutes",this.$timepicker),this.d.ampm&&(this.$ampm=t('<span class="datepicker--time-current-ampm">').appendTo(t(".datepicker--time-current",this.$timepicker)).html(this.dayPeriod),this.$timepicker.addClass("-am-pm-"))},_updateCurrentTime:function(){var e=n.getLeadingZeroNum(this.displayHours),t=n.getLeadingZeroNum(this.minutes);this.$hoursText.html(e),this.$minutesText.html(t),this.d.ampm&&this.$ampm.html(this.dayPeriod)},_updateRanges:function(){this.$hours.attr({min:this.minHours,max:this.maxHours}).val(this.hours),this.$minutes.attr({min:this.minMinutes,max:this.maxMinutes}).val(this.minutes)},_handleDate:function(e){this._setDefaultMinMaxTime(),e&&(n.isSame(e,this.d.opts.minDate)?this._setMinTimeFromDate(this.d.opts.minDate):n.isSame(e,this.d.opts.maxDate)&&this._setMaxTimeFromDate(this.d.opts.maxDate)),this._validateHoursMinutes(e)},update:function(){this._updateRanges(),this._updateCurrentTime()},_getValidHoursFromDate:function(e,t){var i=e;e instanceof Date&&(i=n.getParsedDate(e).hours);var a="am";if(t||this.d.ampm)switch(!0){case 0==i:i=12;break;case 12==i:a="pm";break;case i>11:i-=12,a="pm"}return{hours:i,dayPeriod:a}},set hours(e){this._hours=e;var t=this._getValidHoursFromDate(e);this.displayHours=t.hours,this.dayPeriod=t.dayPeriod},get hours(){return this._hours},_onChangeRange:function(e){var n=t(e.target),i=n.attr("name");this.d.timepickerIsActive=!0,this[i]=n.val(),this._updateCurrentTime(),this.d._trigger("timeChange",[this.hours,this.minutes]),this._handleDate(this.d.lastSelectedDate),this.update()},_onSelectDate:function(e,t){this._handleDate(t),this.update()},_onMouseEnterRange:function(e){var n=t(e.target).attr("name");t(".datepicker--time-current-"+n,this.$timepicker).addClass("-focus-")},_onMouseOutRange:function(e){var n=t(e.target).attr("name");this.d.inFocus||t(".datepicker--time-current-"+n,this.$timepicker).removeClass("-focus-")},_onMouseUpRange:function(e){this.d.timepickerIsActive=!1}}}()}(window,jQuery);var EasyAutocomplete=function(e){return e.Configuration=function(e){function t(e,t){!function t(n,a){for(var r in a)void 0===n[r]&&e.log("Property '"+r+"' does not exist in EasyAutocomplete options API."),"object"==_typeof(n[r])&&-1===$.inArray(r,i)&&t(n[r],a[r])}(n,t)}var n={data:"list-required",url:"list-required",dataType:"json",listLocation:function(e){return e},xmlElementName:"",getValue:function(e){return e},autocompleteOff:!0,placeholder:!1,ajaxCallback:function(){},matchResponseProperty:!1,list:{sort:{enabled:!1,method:function(e,t){return e=n.getValue(e),(t=n.getValue(t))>e?-1:e>t?1:0}},maxNumberOfElements:6,hideOnEmptyPhrase:!0,match:{enabled:!1,caseSensitive:!1,method:function(e,t){return e.search(t)>-1}},showAnimation:{type:"normal",time:400,callback:function(){}},hideAnimation:{type:"normal",time:400,callback:function(){}},onClickEvent:function(){},onSelectItemEvent:function(){},onLoadEvent:function(){},onChooseEvent:function(){},onKeyEnterEvent:function(){},onMouseOverEvent:function(){},onMouseOutEvent:function(){},onShowListEvent:function(){},onHideListEvent:function(){}},highlightPhrase:!0,theme:"",cssClasses:"",minCharNumber:0,requestDelay:0,adjustWidth:!0,ajaxSettings:{},preparePostData:function(e,t){return e},loggerEnabled:!0,template:"",categoriesAssigned:!1,categories:[{maxNumberOfElements:4}]},i=["ajaxSettings","template"];this.get=function(e){return n[e]},this.equals=function(e,t){return!(!function(e){return void 0!==n[e]&&null!==n[e]}(e)||n[e]!==t)},this.checkDataUrlProperties=function(){return"list-required"!==n.url||"list-required"!==n.data},this.checkRequiredProperties=function(){for(var e in n)if("required"===n[e])return logger.error("Option "+e+" must be defined"),!1;return!0},this.printPropertiesThatDoesntExist=function(e,n){t(e,n)},function(){if("xml"===e.dataType&&(e.getValue||(e.getValue=function(e){return $(e).text()}),e.list||(e.list={}),e.list.sort||(e.list.sort={}),e.list.sort.method=function(t,n){return t=e.getValue(t),(n=e.getValue(n))>t?-1:t>n?1:0},e.list.match||(e.list.match={}),e.list.match.method=function(e,t){return e.search(t)>-1}),void 0!==e.categories&&e.categories instanceof Array){for(var t=[],i=0,a=e.categories.length;a>i;i+=1){var r=e.categories[i];for(var o in n.categories[0])void 0===r[o]&&(r[o]=n.categories[0][o]);t.push(r)}e.categories=t}}(),!0===(n=function e(t,n){var i=t||{};for(var a in t)void 0!==n[a]&&null!==n[a]&&("object"!=_typeof(n[a])||n[a]instanceof Array?i[a]=n[a]:e(t[a],n[a]));return void 0!==n.data&&null!==n.data&&"object"==_typeof(n.data)&&(i.data=n.data),i}(n,e)).loggerEnabled&&t(console,e),void 0!==e.ajaxSettings&&"object"==_typeof(e.ajaxSettings)?n.ajaxSettings=e.ajaxSettings:n.ajaxSettings={},function(){if("list-required"!==n.url&&"function"!=typeof n.url){var t=n.url;n.url=function(){return t}}void 0!==n.ajaxSettings.url&&"function"!=typeof n.ajaxSettings.url&&(t=n.ajaxSettings.url,n.ajaxSettings.url=function(){return t});if("string"==typeof n.listLocation){var i=n.listLocation;"XML"===n.dataType.toUpperCase()?n.listLocation=function(e){return $(e).find(i)}:n.listLocation=function(e){return e[i]}}if("string"==typeof n.getValue){var a=n.getValue;n.getValue=function(e){return e[a]}}void 0!==e.categories&&(n.categoriesAssigned=!0)}()},e}(EasyAutocomplete||{}),EasyAutocomplete=function(e){return e.Logger=function(){this.error=function(e){console.log("ERROR: "+e)},this.warning=function(e){console.log("WARNING: "+e)}},e}(EasyAutocomplete||{}),EasyAutocomplete=function(e){return e.Constans=function(){var e={CONTAINER_CLASS:"easy-autocomplete-container",CONTAINER_ID:"eac-container-",WRAPPER_CSS_CLASS:"easy-autocomplete"};this.getValue=function(t){return e[t]}},e}(EasyAutocomplete||{}),EasyAutocomplete=function(e){return e.ListBuilderService=function(e,t){function n(t,n){var i={};if(i="XML"===e.get("dataType").toUpperCase()?function(){var i,a={};return void 0!==t.xmlElementName&&(a.xmlElementName=t.xmlElementName),void 0!==t.listLocation?i=t.listLocation:void 0!==e.get("listLocation")&&(i=e.get("listLocation")),void 0!==i?"string"==typeof i?a.data=$(n).find(i):"function"==typeof i&&(a.data=i(n)):a.data=n,a}():function(){var e={};return void 0!==t.listLocation?"string"==typeof t.listLocation?e.data=n[t.listLocation]:"function"==typeof t.listLocation&&(e.data=t.listLocation(n)):e.data=n,e}(),void 0!==t.header&&(i.header=t.header),void 0!==t.maxNumberOfElements&&(i.maxNumberOfElements=t.maxNumberOfElements),void 0!==e.get("list").maxNumberOfElements&&(i.maxListSize=e.get("list").maxNumberOfElements),void 0!==t.getValue)if("string"==typeof t.getValue){var a=t.getValue;i.getValue=function(e){return e[a]}}else"function"==typeof t.getValue&&(i.getValue=t.getValue);else i.getValue=e.get("getValue");return i}function i(t){var n=[];return void 0===t.xmlElementName&&(t.xmlElementName=e.get("xmlElementName")),$(t.data).find(t.xmlElementName).each(function(){n.push(this)}),n}this.init=function(t){var n=[],i={};return i.data=e.get("listLocation")(t),i.getValue=e.get("getValue"),i.maxListSize=e.get("list").maxNumberOfElements,n.push(i),n},this.updateCategories=function(t,i){if(e.get("categoriesAssigned")){t=[];for(var a=0;a<e.get("categories").length;a+=1){var r=n(e.get("categories")[a],i);t.push(r)}}return t},this.convertXml=function(t){if("XML"===e.get("dataType").toUpperCase())for(var n=0;n<t.length;n+=1)t[n].data=i(t[n]);return t},this.processData=function(n,i){for(var a=0,r=n.length;r>a;a+=1)n[a].data=t(e,n[a],i);return n},this.checkIfDataExists=function(e){for(var t=0,n=e.length;n>t;t+=1)if(void 0!==e[t].data&&e[t].data instanceof Array&&e[t].data.length>0)return!0;return!1}},e}(EasyAutocomplete||{}),EasyAutocomplete=function(e){return e.proccess=function(t,n,i){function a(e,n){return t.get("list").match.caseSensitive||("string"==typeof e&&(e=e.toLowerCase()),n=n.toLowerCase()),!!t.get("list").match.method(e,n)}e.proccess.match=a;var r=n.data;return function(e){return t.get("list").sort.enabled&&e.sort(t.get("list").sort.method),e}(r=function(e){return void 0!==n.maxNumberOfElements&&e.length>n.maxNumberOfElements&&(e=e.slice(0,n.maxNumberOfElements)),e}(r=function(e,n){var i=[];if(t.get("list").match.enabled)for(var r=0,o=e.length;o>r;r+=1)a(t.get("getValue")(e[r]),n)&&i.push(e[r]);else i=e;return i}(r,i)))},e}(EasyAutocomplete||{}),EasyAutocomplete=function(e){return e.Template=function(e){var t={basic:{type:"basic",method:function(e){return e},cssClass:""},description:{type:"description",fields:{description:"description"},method:function(e){return e+" - description"},cssClass:"eac-description"},iconLeft:{type:"iconLeft",fields:{icon:""},method:function(e){return e},cssClass:"eac-icon-left"},iconRight:{type:"iconRight",fields:{iconSrc:""},method:function(e){return e},cssClass:"eac-icon-right"},links:{type:"links",fields:{link:""},method:function(e){return e},cssClass:""},custom:{type:"custom",method:function(){},cssClass:""}};this.getTemplateClass=function(e){return e&&e.type&&e.type&&t[e.type]?function(){var n=t[e.type].cssClass;return function(){return n}}():function(){return""}}(e),this.build=function(e){return e&&e.type&&e.type&&t[e.type]?function(e){var n,i=e.fields;return"description"===e.type?(n=t.description.method,"string"==typeof i.description?n=function(e,t){return e+" - <span>"+t[i.description]+"</span>"}:"function"==typeof i.description&&(n=function(e,t){return e+" - <span>"+i.description(t)+"</span>"}),n):"iconRight"===e.type?("string"==typeof i.iconSrc?n=function(e,t){return e+"<img class='eac-icon' src='"+t[i.iconSrc]+"' />"}:"function"==typeof i.iconSrc&&(n=function(e,t){return e+"<img class='eac-icon' src='"+i.iconSrc(t)+"' />"}),n):"iconLeft"===e.type?("string"==typeof i.iconSrc?n=function(e,t){return"<img class='eac-icon' src='"+t[i.iconSrc]+"' />"+e}:"function"==typeof i.iconSrc&&(n=function(e,t){return"<img class='eac-icon' src='"+i.iconSrc(t)+"' />"+e}),n):"links"===e.type?("string"==typeof i.link?n=function(e,t){return"<a href='"+t[i.link]+"' >"+e+"</a>"}:"function"==typeof i.link&&(n=function(e,t){return"<a href='"+i.link(t)+"' >"+e+"</a>"}),n):"custom"===e.type?e.method:t.basic.method}(e):t.basic.method}(e)},e}(EasyAutocomplete||{}),EasyAutocomplete=function(e){return e.main=function(t,n){function i(){return 0===v.length?void p.error("Input field doesn't exist."):h.checkDataUrlProperties()?h.checkRequiredProperties()?(a(),void function(){function e(){v.off("keyup").keyup(function(e){function t(e){if(!(e.length<h.get("minCharNumber"))){if("list-required"!==h.get("data")){var t=h.get("data"),n=m.init(t);n=m.updateCategories(n,t),c(n=m.processData(n,e),e),v.parent().find("li").length>0?o():s()}var i=function(){var e={},t=h.get("ajaxSettings")||{};for(var n in t)e[n]=t[n];return e}();void 0!==i.url&&""!==i.url||(i.url=h.get("url")),void 0!==i.dataType&&""!==i.dataType||(i.dataType=h.get("dataType")),void 0!==i.url&&"list-required"!==i.url&&(i.url=i.url(e),i.data=h.get("preparePostData")(i.data,e),$.ajax(i).done(function(t){var n=m.init(t);n=m.updateCategories(n,t),n=m.convertXml(n),function(e,t){return!1===h.get("matchResponseProperty")||("string"==typeof h.get("matchResponseProperty")?t[h.get("matchResponseProperty")]===e:"function"!=typeof h.get("matchResponseProperty")||h.get("matchResponseProperty")(t)===e)}(e,t)&&c(n=m.processData(n,e),e),m.checkIfDataExists(n)&&v.parent().find("li").length>0?o():s(),h.get("ajaxCallback")()}).fail(function(){p.warning("Fail to load response data")}).always(function(){}))}}switch(e.keyCode){case 27:s(),v.trigger("blur");break;case 38:e.preventDefault(),k.length>0&&b>0&&(b-=1,v.val(h.get("getValue")(k[b])),l(b));break;case 40:e.preventDefault(),k.length>0&&b<k.length-1&&(b+=1,v.val(h.get("getValue")(k[b])),l(b));break;default:if(e.keyCode>40||8===e.keyCode){var n=v.val();!0!==h.get("list").hideOnEmptyPhrase||8!==e.keyCode||""!==n?h.get("requestDelay")>0?(void 0!==u&&clearTimeout(u),u=setTimeout(function(){t(n)},h.get("requestDelay"))):t(n):s()}}})}g("autocompleteOff",!0)&&v.attr("autocomplete","off"),v.focusout(function(){var e,t=v.val();h.get("list").match.caseSensitive||(t=t.toLowerCase());for(var n=0,i=k.length;i>n;n+=1)if(e=h.get("getValue")(k[n]),h.get("list").match.caseSensitive||(e=e.toLowerCase()),e===t)return void l(b=n)}),e(),v.on("keydown",function(e){var t=(e=e||window.event).keyCode;return 38===t?(suppressKeypress=!0,!1):void 0}).keydown(function(e){13===e.keyCode&&b>-1&&(v.val(h.get("getValue")(k[b])),h.get("list").onKeyEnterEvent(),h.get("list").onChooseEvent(),b=-1,s(),e.preventDefault())}),v.off("keypress"),v.focus(function(){""!==v.val()&&k.length>0&&(b=-1,o())}),v.blur(function(){setTimeout(function(){b=-1,s()},250)})}()):void p.error("Will not work without mentioned properties."):void p.error("One of options variables 'data' or 'url' must be defined.")}function a(){function e(e,t){return h.get("highlightPhrase")&&""!==t?function(e,t){var n=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}(t);return(e+"").replace(new RegExp("("+n+")","gi"),"<b>$1</b>")}(e,t):e}v.parent().hasClass(d.getValue("WRAPPER_CSS_CLASS"))&&(v.next("."+d.getValue("CONTAINER_CLASS")).remove(),v.unwrap()),function(){var e=$("<div>"),t=d.getValue("WRAPPER_CSS_CLASS");h.get("theme")&&""!==h.get("theme")&&(t+=" eac-"+h.get("theme")),h.get("cssClasses")&&""!==h.get("cssClasses")&&(t+=" "+h.get("cssClasses")),""!==f.getTemplateClass()&&(t+=" "+f.getTemplateClass()),e.addClass(t),v.wrap(e),!0===h.get("adjustWidth")&&function(){var e=v.outerWidth();v.parent().css("width",e)}()}(),function(){var t=$("<div>").addClass(d.getValue("CONTAINER_CLASS"));t.attr("id",r()).prepend($("<ul>")),t.on("show.eac",function(){switch(h.get("list").showAnimation.type){case"slide":var e=h.get("list").showAnimation.time,n=h.get("list").showAnimation.callback;t.find("ul").slideDown(e,n);break;case"fade":e=h.get("list").showAnimation.time,n=h.get("list").showAnimation.callback,t.find("ul").fadeIn(e);break;default:t.find("ul").show()}h.get("list").onShowListEvent()}).on("hide.eac",function(){switch(h.get("list").hideAnimation.type){case"slide":var e=h.get("list").hideAnimation.time,n=h.get("list").hideAnimation.callback;t.find("ul").slideUp(e,n);break;case"fade":e=h.get("list").hideAnimation.time,n=h.get("list").hideAnimation.callback,t.find("ul").fadeOut(e,n);break;default:t.find("ul").hide()}h.get("list").onHideListEvent()}).on("selectElement.eac",function(){t.find("ul li").removeClass("selected"),t.find("ul li").eq(b).addClass("selected"),h.get("list").onSelectItemEvent()}).on("loadElements.eac",function(n,i,a){var r="",o=t.find("ul");o.empty().detach(),k=[];for(var s=0,c=0,u=i.length;u>c;c+=1){var d=i[c].data;if(0!==d.length){void 0!==i[c].header&&i[c].header.length>0&&o.append("<div class='eac-category' >"+i[c].header+"</div>");for(var p=0,m=d.length;m>p&&s<i[c].maxListSize;p+=1)r=$("<li><div class='eac-item'></div></li>"),function(){var t=p,n=s,o=i[c].getValue(d[t]);r.find(" > div").on("click",function(){v.val(o).trigger("change"),b=n,l(n),h.get("list").onClickEvent(),h.get("list").onChooseEvent()}).mouseover(function(){b=n,l(n),h.get("list").onMouseOverEvent()}).mouseout(function(){h.get("list").onMouseOutEvent()}).html(f.build(e(o,a),d[t]))}(),o.append(r),k.push(d[p]),s+=1}}t.append(o),h.get("list").onLoadEvent()}),v.after(t)}(),y=$("#"+r()),h.get("placeholder")&&v.attr("placeholder",h.get("placeholder"))}function r(){var e=v.attr("id");return d.getValue("CONTAINER_ID")+e}function o(){y.trigger("show.eac")}function s(){y.trigger("hide.eac")}function l(e){y.trigger("selectElement.eac",e)}function c(e,t){y.trigger("loadElements.eac",[e,t])}var u,d=new e.Constans,h=new e.Configuration(n),p=new e.Logger,f=new e.Template(n.template),m=new e.ListBuilderService(h,e.proccess),g=h.equals,v=t,y="",k=[],b=-1;e.consts=d,this.getConstants=function(){return d},this.getConfiguration=function(){return h},this.getContainer=function(){return y},this.getSelectedItemIndex=function(){return b},this.getItems=function(){return k},this.getItemData=function(e){return k.length<e||void 0===k[e]?-1:k[e]},this.getSelectedItemData=function(){return this.getItemData(b)},this.build=function(){a()},this.init=function(){i()}},e.eacHandles=[],e.getHandle=function(t){return e.eacHandles[t]},e.inputHasId=function(e){return void 0!==$(e).attr("id")&&$(e).attr("id").length>0},e.assignRandomId=function(t){var n="";do{n="eac-"+Math.floor(1e4*Math.random())}while(0!==$("#"+n).length);elementId=e.consts.getValue("CONTAINER_ID")+n,$(t).attr("id",n)},e.setHandle=function(t,n){e.eacHandles[n]=t},e}(EasyAutocomplete||{});function _ajax_post(e,t,n,i){window.reCaptchaValid&&(n instanceof FormData?n.append("captcha",window.reCaptchaValid):n.captcha=window.reCaptchaValid);var a={url:t,method:"POST",data:n,beforeSend:function(){window.ajaxLoad=!0,$("body").addClass("ajax-load"),e.attr("disabled","disabled").addClass("load uk-disabled"),i?$("body").addClass("ajax-not-visible-load"):e.append('<div class="uk-ajax-spinner"><div uk-spinner></div></div>')},success:function(t,n,a){if(window.ajaxLoad=!1,$("body").removeClass("ajax-load ajax-not-visible-load"),e.removeAttr("disabled").removeClass("load uk-disabled"),i||e.find(".uk-ajax-spinner").remove(),null!=t.select_commands)for(var r=0;r<t.select_commands.length;++r){var o=t.select_commands[r];if(null!=o.command){var s=o.options||{};switch(o.command){case"toggleClass":null!=s.data&&e.toggleClass(s.data);break;case"attr":null!=s.attr&&null!=s.data&&e.attr(s.attr,s.data);break;case"removeAttr":null!=s.attr&&null!=s.data&&e.removeAttr(s.attr,s.data);break;case"text":null!=s.data&&e.text(s.data);break;case"html":null!=s.data&&e.html(s.data)}}}},error:function(t,n,a){window.ajaxLoad=!1,$("body").removeClass("ajax-load uk-disabled ajax-not-visible-load"),e.removeAttr("disabled").removeClass("load uk-disabled"),cmd_UK_notification({text:a,status:"danger"}),i||e.find(".uk-ajax-spinner").remove()}};return n instanceof FormData&&(a.enctype="multipart/form-data",a.processData=!1,a.contentType=!1,a.cache=!1),$.ajax(a)}!function(e){e.fn.easyAutocomplete=function(t){return this.each(function(){var n=e(this),i=new EasyAutocomplete.main(n,t);EasyAutocomplete.inputHasId(n)||EasyAutocomplete.assignRandomId(n),i.init(),EasyAutocomplete.setHandle(i,n.attr("id"))})},e.fn.getSelectedItemIndex=function(){var t=e(this).attr("id");return void 0!==t?EasyAutocomplete.getHandle(t).getSelectedItemIndex():-1},e.fn.getItems=function(){var t=e(this).attr("id");return void 0!==t?EasyAutocomplete.getHandle(t).getItems():-1},e.fn.getItemData=function(t){var n=e(this).attr("id");return void 0!==n&&t>-1?EasyAutocomplete.getHandle(n).getItemData(t):-1},e.fn.getSelectedItemData=function(){var t=e(this).attr("id");return void 0!==t?EasyAutocomplete.getHandle(t).getSelectedItemData():-1}}(jQuery),function(e){function t(i,a){return this instanceof t?(e.isPlainObject(i)?a=i:(a=a||{}).alias=i,this.el=void 0,this.opts=e.extend(!0,{},this.defaults,a),this.maskset=void 0,this.noMasksCache=a&&void 0!==a.definitions,this.userOptions=a||{},this.events={},this.dataAttribute="data-inputmask",this.isRTL=this.opts.numericInput,void n(this.opts.alias,a,this.opts)):new t(i,a)}function n(t,i,a){var r=a.aliases[t];return r?(r.alias&&n(r.alias,void 0,a),e.extend(!0,a,r),e.extend(!0,a,i),!0):(null===a.mask&&(a.mask=t),!1)}function i(n,i){function a(n,a,r){if(null!==n&&""!==n){if(1===n.length&&!1===r.greedy&&0!==r.repeat&&(r.placeholder=""),r.repeat>0||"*"===r.repeat||"+"===r.repeat){var o="*"===r.repeat?0:"+"===r.repeat?1:r.repeat;n=r.groupmarker.start+n+r.groupmarker.end+r.quantifiermarker.start+o+","+r.repeat+r.quantifiermarker.end}var s;return void 0===t.prototype.masksCache[n]||!0===i?(s={mask:n,maskToken:t.prototype.analyseMask(n,r),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:a,maskLength:void 0},!0!==i&&(t.prototype.masksCache[r.numericInput?n.split("").reverse().join(""):n]=s,s=e.extend(!0,{},t.prototype.masksCache[r.numericInput?n.split("").reverse().join(""):n]))):s=e.extend(!0,{},t.prototype.masksCache[r.numericInput?n.split("").reverse().join(""):n]),s}}var r;if(e.isFunction(n.mask)&&(n.mask=n.mask(n)),e.isArray(n.mask)){if(n.mask.length>1){n.keepStatic=null===n.keepStatic||n.keepStatic;var o=n.groupmarker.start;return e.each(n.numericInput?n.mask.reverse():n.mask,function(t,i){o.length>1&&(o+=n.groupmarker.end+n.alternatormarker+n.groupmarker.start),o+=void 0===i.mask||e.isFunction(i.mask)?i:i.mask}),a(o+=n.groupmarker.end,n.mask,n)}n.mask=n.mask.pop()}return n.mask&&(r=void 0===n.mask.mask||e.isFunction(n.mask.mask)?a(n.mask,n.mask,n):a(n.mask.mask,n.mask,n)),r}function a(n,i,r){function u(e,t,n){t=t||0;var i,a,o,s=[],l=0,c=p();-1===(B=void 0!==G?G.maxLength:void 0)&&(B=void 0);do{!0===e&&d().validPositions[l]?(a=(o=d().validPositions[l]).match,i=o.locator.slice(),s.push(!0===n?o.input:!1===n?a.nativeDef:O(l,a))):(a=(o=g(l,i,l-1)).match,i=o.locator.slice(),(!1===r.jitMasking||l<c||"number"==typeof r.jitMasking&&isFinite(r.jitMasking)&&r.jitMasking>l)&&s.push(!1===n?a.nativeDef:O(l,a))),l++}while((void 0===B||l<B)&&(null!==a.fn||""!==a.def)||t>l);return""===s[s.length-1]&&s.pop(),d().maskLength=l+1,s}function d(){return i}function h(e){var t=d();t.buffer=void 0,!0!==e&&(t._buffer=void 0,t.validPositions={},t.p=0)}function p(e,t,n){var i=-1,a=-1,r=n||d().validPositions;for(var o in void 0===e&&(e=-1),r){var s=parseInt(o);r[s]&&(t||null!==r[s].match.fn)&&(s<=e&&(i=s),s>=e&&(a=s))}return-1!==i&&e-i>1||a<e?i:a}function f(t,n,i,a){function o(e){var t=d().validPositions[e];if(void 0!==t&&null===t.match.fn){var n=d().validPositions[e-1],i=d().validPositions[e+1];return void 0!==n&&void 0!==i}return!1}var s,l=t,c=e.extend(!0,{},d().validPositions),u=!1;for(d().p=t,s=n-1;s>=l;s--)void 0!==d().validPositions[s]&&(!0!==i&&(!d().validPositions[s].match.optionality&&o(s)||!1===r.canClearPosition(d(),s,p(),a,r))||delete d().validPositions[s]);for(h(!0),s=l+1;s<=p();){for(;void 0!==d().validPositions[l];)l++;if(s<l&&(s=l+1),void 0===d().validPositions[s]&&S(s))s++;else{var f=g(s);!1===u&&c[l]&&c[l].match.def===f.match.def?(d().validPositions[l]=e.extend(!0,{},c[l]),d().validPositions[l].input=f.input,delete d().validPositions[s],s++):y(l,f.match.def)?!1!==D(l,f.input||O(s),!0)&&(delete d().validPositions[s],s++,u=!0):S(s)||(s++,l--),l++}}h(!0)}function m(e,t){for(var n,i=e,a=p(),o=d().validPositions[a]||k(0)[0],s=void 0!==o.alternation?o.locator[o.alternation].toString().split(","):[],l=0;l<i.length&&(!((n=i[l]).match&&(r.greedy&&!0!==n.match.optionalQuantifier||(!1===n.match.optionality||!1===n.match.newBlockMarker)&&!0!==n.match.optionalQuantifier)&&(void 0===o.alternation||o.alternation!==n.alternation||void 0!==n.locator[o.alternation]&&C(n.locator[o.alternation].toString().split(","),s)))||!0===t&&(null!==n.match.fn||/[0-9a-bA-Z]/.test(n.match.def)));l++);return n}function g(e,t,n){return d().validPositions[e]||m(k(e,t?t.slice():t,n))}function v(e){return d().validPositions[e]?d().validPositions[e]:k(e)[0]}function y(e,t){for(var n=!1,i=k(e),a=0;a<i.length;a++)if(i[a].match&&i[a].match.def===t){n=!0;break}return n}function k(t,n,i){function a(n,i,o,l){function u(o,l,m){function g(t,n){var i=0===e.inArray(t,n.matches);return i||e.each(n.matches,function(e,a){if(!0===a.isQuantifier&&(i=g(t,n.matches[e-1])))return!1}),i}function v(t,n,i){var a,r;return(d().tests[t]||d().validPositions[t])&&e.each(d().tests[t]||[d().validPositions[t]],function(e,t){var o=void 0!==i?i:t.alternation,s=void 0!==t.locator[o]?t.locator[o].toString().indexOf(n):-1;(void 0===r||s<r)&&-1!==s&&(a=t,r=s)}),a?a.locator.slice((void 0!==i?i:a.alternation)+1):void 0!==i?v(t,n):void 0}function y(e,n){return null===e.match.fn&&null!==n.match.fn&&n.match.fn.test(e.match.def,d(),t,!1,r,!1)}if(c>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+d().mask;if(c===t&&void 0===o.matches)return h.push({match:o,locator:l.reverse(),cd:f}),!0;if(void 0!==o.matches){if(o.isGroup&&m!==o){if(o=u(n.matches[e.inArray(o,n.matches)+1],l))return!0}else if(o.isOptional){var k=o;if(o=a(o,i,l,m)){if(!g(s=h[h.length-1].match,k))return!0;p=!0,c=t}}else if(o.isAlternator){var b,w=o,x=[],_=h.slice(),C=l.length,D=i.length>0?i.shift():-1;if(-1===D||"string"==typeof D){var S,E=c,$=i.slice(),A=[];if("string"==typeof D)A=D.split(",");else for(S=0;S<w.matches.length;S++)A.push(S);for(var P=0;P<A.length;P++){if(S=parseInt(A[P]),h=[],i=v(c,S,C)||$.slice(),!0!==(o=u(w.matches[S]||n.matches[S],[S].concat(l),m)||o)&&void 0!==o&&A[A.length-1]<w.matches.length){var O=e.inArray(o,n.matches)+1;n.matches.length>O&&((o=u(n.matches[O],[O].concat(l.slice(1,l.length)),m))&&(A.push(O.toString()),e.each(h,function(e,t){t.alternation=l.length-1})))}b=h.slice(),c=E,h=[];for(var M=0;M<b.length;M++){var T=b[M],R=!1;T.alternation=T.alternation||C;for(var j=0;j<x.length;j++){var I=x[j];if(("string"!=typeof D||-1!==e.inArray(T.locator[T.alternation].toString(),A))&&(T.match.def===I.match.def||y(T,I))){R=T.match.nativeDef===I.match.nativeDef,T.alternation==I.alternation&&-1===I.locator[I.alternation].toString().indexOf(T.locator[T.alternation])&&(I.locator[I.alternation]=I.locator[I.alternation]+","+T.locator[T.alternation],I.alternation=T.alternation,null==T.match.fn&&(I.na=I.na||T.locator[T.alternation].toString(),-1===I.na.indexOf(T.locator[T.alternation])&&(I.na=I.na+","+T.locator[T.alternation])));break}}R||x.push(T)}}"string"==typeof D&&(x=e.map(x,function(t,n){if(isFinite(n)){var i=t.alternation,a=t.locator[i].toString().split(",");t.locator[i]=void 0,t.alternation=void 0;for(var r=0;r<a.length;r++)-1!==e.inArray(a[r],A)&&(void 0!==t.locator[i]?(t.locator[i]+=",",t.locator[i]+=a[r]):t.locator[i]=parseInt(a[r]),t.alternation=i);if(void 0!==t.locator[i])return t}})),h=_.concat(x),c=t,p=h.length>0,i=$.slice()}else o=u(w.matches[D]||n.matches[D],[D].concat(l),m);if(o)return!0}else if(o.isQuantifier&&m!==n.matches[e.inArray(o,n.matches)-1])for(var L=o,N=i.length>0?i.shift():0;N<(isNaN(L.quantifier.max)?N+1:L.quantifier.max)&&c<=t;N++){var F=n.matches[e.inArray(L,n.matches)-1];if(o=u(F,[N].concat(l),F)){if((s=h[h.length-1].match).optionalQuantifier=N>L.quantifier.min-1,g(s,F)){if(N>L.quantifier.min-1){p=!0,c=t;break}return!0}return!0}}else if(o=a(o,i,l,m))return!0}else c++}for(var m=i.length>0?i.shift():0;m<n.matches.length;m++)if(!0!==n.matches[m].isQuantifier){var g=u(n.matches[m],[m].concat(o),l);if(g&&c===t)return g;if(c>t)break}}function o(e){return r.keepStatic&&t>0&&e.length>1+(""===e[e.length-1].match.def?1:0)&&!0!==e[0].match.optionality&&!0!==e[0].match.optionalQuantifier&&null===e[0].match.fn&&!/[0-9a-bA-Z]/.test(e[0].match.def)?[m(e)]:e}var s,l=d().maskToken,c=n?i:0,u=n?n.slice():[0],h=[],p=!1,f=n?n.join(""):"";if(t>-1){if(void 0===n){for(var g,v=t-1;void 0===(g=d().validPositions[v]||d().tests[v])&&v>-1;)v--;void 0!==g&&v>-1&&(u=function(t){var n=[];return e.isArray(t)||(t=[t]),t.length>0&&(void 0===t[0].alternation?0===(n=m(t.slice()).locator.slice()).length&&(n=t[0].locator.slice()):e.each(t,function(e,t){if(""!==t.def)if(0===n.length)n=t.locator.slice();else for(var i=0;i<n.length;i++)t.locator[i]&&-1===n[i].toString().indexOf(t.locator[i])&&(n[i]+=","+t.locator[i])})),n}(g),f=u.join(""),c=v)}if(d().tests[t]&&d().tests[t][0].cd===f)return o(d().tests[t]);for(var y=u.shift();y<l.length;y++){if(a(l[y],u,[y])&&c===t||c>t)break}}return(0===h.length||p)&&h.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:f}),void 0!==n&&d().tests[t]?o(e.extend(!0,[],h)):(d().tests[t]=e.extend(!0,[],h),o(d().tests[t]))}function b(){return void 0===d()._buffer&&(d()._buffer=u(!1,1),void 0===d().buffer&&d()._buffer.slice()),d()._buffer}function w(e){return void 0!==d().buffer&&!0!==e||(d().buffer=u(!0,p(),!0)),d().buffer}function x(e,t,n){var i;if(!0===e)h(),e=0,t=n.length;else for(i=e;i<t;i++)delete d().validPositions[i];for(i=e;i<t;i++)h(!0),n[i]!==r.skipOptionalPartCharacter&&D(i,n[i],!0,!0)}function _(e,n,i){switch(r.casing||n.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var a=d().validPositions[i-1];e=0===i||a&&a.input===String.fromCharCode(t.keyCode.SPACE)?e.toUpperCase():e.toLowerCase()}return e}function C(t,n){for(var i=r.greedy?n:n.slice(0,1),a=!1,o=0;o<t.length;o++)if(-1!==e.inArray(t[o],i)){a=!0;break}return a}function D(n,i,a,o,s){function l(e){var t=z?e.begin-e.end>1||e.begin-e.end==1&&r.insertMode:e.end-e.begin>1||e.end-e.begin==1&&r.insertMode;return t&&0===e.begin&&e.end===d().maskLength?"full":t}function c(t,i,a){var s=!1;return e.each(k(t),function(c,u){for(var m=u.match,g=i?1:0,y="",k=m.cardinality;k>g;k--)y+=A(t-(k-1));if(i&&(y+=i),w(!0),!1!==(s=null!=m.fn?m.fn.test(y,d(),t,a,r,l(n)):(i===m.def||i===r.skipOptionalPartCharacter)&&""!==m.def&&{c:m.placeholder||m.def,pos:t})){var b=void 0!==s.c?s.c:i;b=b===r.skipOptionalPartCharacter&&null===m.fn?m.placeholder||m.def:b;var C=t,S=w();if(void 0!==s.remove&&(e.isArray(s.remove)||(s.remove=[s.remove]),e.each(s.remove.sort(function(e,t){return t-e}),function(e,t){f(t,t+1,!0)})),void 0!==s.insert&&(e.isArray(s.insert)||(s.insert=[s.insert]),e.each(s.insert.sort(function(e,t){return e-t}),function(e,t){D(t.pos,t.c,!0,o)})),s.refreshFromBuffer){var E=s.refreshFromBuffer;if(a=!0,x(!0===E?E:E.start,E.end,S),void 0===s.pos&&void 0===s.c)return s.pos=p(),!1;if((C=void 0!==s.pos?s.pos:t)!==t)return s=e.extend(s,D(C,b,!0,o)),!1}else if(!0!==s&&void 0!==s.pos&&s.pos!==t&&(C=s.pos,x(t,C,w().slice()),C!==t))return s=e.extend(s,D(C,b,!0)),!1;return(!0===s||void 0!==s.pos||void 0!==s.c)&&(c>0&&h(!0),v(C,e.extend({},u,{input:_(b,m,C)}),o,l(n))||(s=!1),!1)}}),s}function u(t,n){var i=d().validPositions[n];if(i)for(var a=i.locator,r=a.length,o=t;o<n;o++)if(void 0===d().validPositions[o]&&!S(o,!0)){var s=k(o),l=s[0],c=-1;e.each(s,function(e,t){for(var n=0;n<r&&void 0!==t.locator[n]&&C(t.locator[n].toString().split(","),a[n].toString().split(","));n++)c<n&&(c=n,l=t)}),v(o,e.extend({},l,{input:l.match.placeholder||l.match.def}),!0)}}function v(t,n,i,a){if(a||r.insertMode&&void 0!==d().validPositions[t]&&void 0===i){var o,s=e.extend(!0,{},d().validPositions),l=p(void 0,!0);for(o=t;o<=l;o++)delete d().validPositions[o];d().validPositions[t]=e.extend(!0,{},n);var c,u=!0,f=d().validPositions,m=!1,g=d().maskLength;for(o=c=t;o<=l;o++){var v=s[o];if(void 0!==v)for(var k=c;k<d().maskLength&&(null===v.match.fn&&f[o]&&(!0===f[o].match.optionalQuantifier||!0===f[o].match.optionality)||null!=v.match.fn);){if(k++,!1===m&&s[k]&&s[k].match.def===v.match.def)d().validPositions[k]=e.extend(!0,{},s[k]),d().validPositions[k].input=v.input,b(k),c=k,u=!0;else if(y(k,v.match.def)){var w=D(k,v.input,!0,!0);u=!1!==w,c=w.caret||w.insert?p():k,m=!0}else u=!0===v.generatedInput;if(d().maskLength<g&&(d().maskLength=g),u)break}if(!u)break}if(!u)return d().validPositions=e.extend(!0,{},s),h(!0),!1}else d().validPositions[t]=e.extend(!0,{},n);return h(!0),!0}function b(t){for(var n=t-1;n>-1&&!d().validPositions[n];n--);var i,a;for(n++;n<t;n++)void 0===d().validPositions[n]&&(!1===r.jitMasking||r.jitMasking>n)&&(""===(a=k(n,g(n-1).locator,n-1).slice())[a.length-1].match.def&&a.pop(),(i=m(a))&&(i.match.def===r.radixPointDefinitionSymbol||!S(n,!0)||e.inArray(r.radixPoint,w())<n&&i.match.fn&&i.match.fn.test(O(n),d(),n,!1,r))&&(!1!==(P=c(n,i.match.placeholder||(null==i.match.fn?i.match.def:""!==O(n)?O(n):w()[n]),!0))&&(d().validPositions[P.pos||n].generatedInput=!0)))}a=!0===a;var $=n;void 0!==n.begin&&($=z&&!l(n)?n.end:n.begin);var P=!1,M=e.extend(!0,{},d().validPositions);if(b($),l(n)&&(N(void 0,t.keyCode.DELETE,n),$=d().p),$<d().maskLength&&(P=c($,i,a),(!a||!0===o)&&!1===P)){var T=d().validPositions[$];if(!T||null!==T.match.fn||T.match.def!==i&&i!==r.skipOptionalPartCharacter){if((r.insertMode||void 0===d().validPositions[E($)])&&!S($,!0)){var R=k($).slice();""===R[R.length-1].match.def&&R.pop();var j=m(R,!0);j&&null===j.match.fn&&(c($,j=j.match.placeholder||j.match.def,a),d().validPositions[$].generatedInput=!0);for(var I=$+1,L=E($);I<=L;I++)if(!1!==(P=c(I,i,a))){u($,void 0!==P.pos?P.pos:I),$=I;break}}}else P={caret:E($)}}return!1===P&&r.keepStatic&&!a&&!0!==s&&(P=function(t,n,i){var a,s,l,c,u,f,m,g,v=e.extend(!0,{},d().validPositions),y=!1,b=p();for(c=d().validPositions[b];b>=0;b--)if((l=d().validPositions[b])&&void 0!==l.alternation){if(a=b,s=d().validPositions[a].alternation,c.locator[l.alternation]!==l.locator[l.alternation])break;c=l}if(void 0!==s){g=parseInt(a);var w=void 0!==c.locator[c.alternation||s]?c.locator[c.alternation||s]:m[0];w.length>0&&(w=w.split(",")[0]);var x=d().validPositions[g],_=d().validPositions[g-1];e.each(k(g,_?_.locator:void 0,g-1),function(a,l){m=l.locator[s]?l.locator[s].toString().split(","):[];for(var c=0;c<m.length;c++){var k=[],b=0,_=0,C=!1;if(w<m[c]&&(void 0===l.na||-1===e.inArray(m[c],l.na.split(",")))){d().validPositions[g]=e.extend(!0,{},l);var S=d().validPositions[g].locator;for(d().validPositions[g].locator[s]=parseInt(m[c]),null==l.match.fn?(x.input!==l.match.def&&(C=!0,!0!==x.generatedInput&&k.push(x.input)),_++,d().validPositions[g].generatedInput=!/[0-9a-bA-Z]/.test(l.match.def),d().validPositions[g].input=l.match.def):d().validPositions[g].input=x.input,u=g+1;u<p(void 0,!0)+1;u++)(f=d().validPositions[u])&&!0!==f.generatedInput&&/[0-9a-bA-Z]/.test(f.input)?k.push(f.input):u<t&&b++,delete d().validPositions[u];for(C&&k[0]===l.match.def&&k.shift(),h(!0),y=!0;k.length>0;){var E=k.shift();if(E!==r.skipOptionalPartCharacter&&!(y=D(p(void 0,!0)+1,E,!1,o,!0)))break}if(y){d().validPositions[g].locator=S;var $=p(t)+1;for(u=g+1;u<p()+1;u++)(void 0===(f=d().validPositions[u])||null==f.match.fn)&&u<t+(_-b)&&_++;y=D((t+=_-b)>$?$:t,n,i,o,!0)}if(y)return!1;h(),d().validPositions=e.extend(!0,{},v)}}})}return y}($,i,a)),!0===P&&(P={pos:$}),e.isFunction(r.postValidation)&&!1!==P&&!a&&!0!==o&&(P=!!r.postValidation(w(!0),P,r)&&P),void 0===P.pos&&(P.pos=$),!1===P&&(h(!0),d().validPositions=e.extend(!0,{},M)),P}function S(e,t){var n;if(t?""===(n=g(e).match).def&&(n=v(e).match):n=v(e).match,null!=n.fn)return n.fn;if(!0!==t&&e>-1){var i=k(e);return i.length>1+(""===i[i.length-1].match.def?1:0)}return!1}function E(e,t){var n=d().maskLength;if(e>=n)return n;for(var i=e;++i<n&&(!0===t&&(!0!==v(i).match.newBlockMarker||!S(i))||!0!==t&&!S(i)););return i}function $(e,t){var n,i=e;if(i<=0)return 0;for(;--i>0&&(!0===t&&!0!==v(i).match.newBlockMarker||!0!==t&&!S(i)&&((n=k(i)).length<2||2===n.length&&""===n[1].match.def)););return i}function A(e){return void 0===d().validPositions[e]?O(e):d().validPositions[e].input}function P(t,n,i,a,o){if(a&&e.isFunction(r.onBeforeWrite)){var s=r.onBeforeWrite(a,n,i,r);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;x(!0===l?l:l.start,l.end,s.buffer||n),n=w(!0)}void 0!==i&&(i=void 0!==s.caret?s.caret:i)}}t.inputmask._valueSet(n.join("")),void 0===i||void 0!==a&&"blur"===a.type?H(t,n,i):R(t,i),!0===o&&(Y=!0,e(t).trigger("input"))}function O(e,t){if(void 0!==(t=t||v(e).match).placeholder)return t.placeholder;if(null===t.fn){if(e>-1&&void 0===d().validPositions[e]){var n,i=k(e),a=[];if(i.length>1+(""===i[i.length-1].match.def?1:0))for(var o=0;o<i.length;o++)if(!0!==i[o].match.optionality&&!0!==i[o].match.optionalQuantifier&&(null===i[o].match.fn||void 0===n||!1!==i[o].match.fn.test(n.match.def,d(),e,!0,r))&&(a.push(i[o]),null===i[o].match.fn&&(n=i[o]),a.length>1&&/[0-9a-bA-Z]/.test(a[0].match.def)))return r.placeholder.charAt(e%r.placeholder.length)}return t.def}return r.placeholder.charAt(e%r.placeholder.length)}function M(n,i,a,o,s,l){var c=o.slice(),u="",f=0,m=void 0;if(h(),d().p=E(-1),!a)if(!0!==r.autoUnmask){var v=b().slice(0,E(-1)).join(""),y=c.join("").match(new RegExp("^"+t.escapeRegex(v),"g"));y&&y.length>0&&(c.splice(0,y.length*v.length),f=E(f))}else f=E(f);if(e.each(c,function(t,i){if(void 0!==i){var o=new e.Event("keypress");o.which=i.charCodeAt(0),u+=i;var s=p(void 0,!0),l=d().validPositions[s],c=g(s+1,l?l.locator.slice():void 0,s);if(!function(){var e=!1,t=b().slice(f,E(f)).join("").indexOf(u);if(-1!==t&&!S(f)){e=!0;for(var n=b().slice(f,f+t),i=0;i<n.length;i++)if(" "!==n[i]){e=!1;break}}return e}()||a||r.autoUnmask){var v=a?t:null==c.match.fn&&c.match.optionality&&s+1<d().p?s+1:d().p;m=J.keypressEvent.call(n,o,!0,!1,a,v),f=v+1,u=""}else m=J.keypressEvent.call(n,o,!0,!1,!0,s+1);if(!a&&e.isFunction(r.onBeforeWrite)&&((m=r.onBeforeWrite(o,w(),m.forwardPosition,r))&&m.refreshFromBuffer)){var y=m.refreshFromBuffer;x(!0===y?y:y.start,y.end,m.buffer),h(!0),m.caret&&(d().p=m.caret)}}}),i){var k=void 0,_=p();document.activeElement===n&&(s||m)&&(k=R(n).begin,s&&!1===m&&(k=E(p(k))),m&&!0!==l&&(k<_+1||-1===_)&&(k=r.numericInput&&void 0===m.caret?$(m.forwardPosition):m.forwardPosition)),P(n,w(),k,s||new e.Event("checkval"))}}function T(t){if(t&&void 0===t.inputmask)return t.value;var n=[],i=d().validPositions;for(var a in i)i[a].match&&null!=i[a].match.fn&&n.push(i[a].input);var o=0===n.length?"":(z?n.reverse():n).join("");if(e.isFunction(r.onUnMask)){var s=(z?w().slice().reverse():w()).join("");o=r.onUnMask(s,o,r)||o}return o}function R(e,t,n,i){function a(e){!0===i||!z||"number"!=typeof e||r.greedy&&""===r.placeholder||(e=w().join("").length-e);return e}var s;if("number"!=typeof t)return e.setSelectionRange?(t=e.selectionStart,n=e.selectionEnd):window.getSelection?(s=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&s.commonAncestorContainer!==e||(t=s.startOffset,n=s.endOffset):document.selection&&document.selection.createRange&&(n=(t=0-(s=document.selection.createRange()).duplicate().moveStart("character",-e.inputmask._valueGet().length))+s.text.length),{begin:a(t),end:a(n)};t=a(t),n="number"==typeof(n=a(n))?n:t;var l=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*n;if(e.scrollLeft=l>e.scrollWidth?l:0,o||!1!==r.insertMode||t!==n||n++,e.setSelectionRange)e.selectionStart=t,e.selectionEnd=n;else if(window.getSelection){if(s=document.createRange(),void 0===e.firstChild||null===e.firstChild){var c=document.createTextNode("");e.appendChild(c)}s.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),s.setEnd(e.firstChild,n<e.inputmask._valueGet().length?n:e.inputmask._valueGet().length),s.collapse(!0);var u=window.getSelection();u.removeAllRanges(),u.addRange(s)}else e.createTextRange&&((s=e.createTextRange()).collapse(!0),s.moveEnd("character",n),s.moveStart("character",t),s.select());H(e,void 0,{begin:t,end:n})}function j(t){var n,i,a=w(),r=a.length,o=p(),s={},l=d().validPositions[o],c=void 0!==l?l.locator.slice():void 0;for(n=o+1;n<a.length;n++)c=(i=g(n,c,n-1)).locator.slice(),s[n]=e.extend(!0,{},i);var u=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(n=r-1;n>o&&(((i=s[n]).match.optionality||i.match.optionalQuantifier||u&&(u!==s[n].locator[l.alternation]&&null!=i.match.fn||null===i.match.fn&&i.locator[l.alternation]&&C(i.locator[l.alternation].toString().split(","),u.toString().split(","))&&""!==k(n)[0].def))&&a[n]===O(n,i.match));n--)r--;return t?{l:r,def:s[r]?s[r].match:void 0}:r}function I(e){for(var t=j(),n=e.length-1;n>t&&!S(n);n--);return e.splice(t,n+1-t),e}function L(t){if(e.isFunction(r.isComplete))return r.isComplete(t,r);if("*"!==r.repeat){var n=!1,i=j(!0),a=$(i.l);if(void 0===i.def||i.def.newBlockMarker||i.def.optionality||i.def.optionalQuantifier){n=!0;for(var o=0;o<=a;o++){var s=g(o).match;if(null!==s.fn&&void 0===d().validPositions[o]&&!0!==s.optionality&&!0!==s.optionalQuantifier||null===s.fn&&t[o]!==O(o,s)){n=!1;break}}}return n}}function N(n,i,a,o){if((r.numericInput||z)&&(i===t.keyCode.BACKSPACE?i=t.keyCode.DELETE:i===t.keyCode.DELETE&&(i=t.keyCode.BACKSPACE),z)){var s=a.end;a.end=a.begin,a.begin=s}i===t.keyCode.BACKSPACE&&(a.end-a.begin<1||!1===r.insertMode)?(a.begin=$(a.begin),void 0===d().validPositions[a.begin]||d().validPositions[a.begin].input!==r.groupSeparator&&d().validPositions[a.begin].input!==r.radixPoint||a.begin--):i===t.keyCode.DELETE&&a.begin===a.end&&(a.end=S(a.end,!0)?a.end+1:E(a.end)+1,void 0===d().validPositions[a.begin]||d().validPositions[a.begin].input!==r.groupSeparator&&d().validPositions[a.begin].input!==r.radixPoint||a.end++),f(a.begin,a.end,!1,o),!0!==o&&function(){if(r.keepStatic){for(var t=[],i=p(-1,!0),a=e.extend(!0,{},d().validPositions),o=d().validPositions[i];i>=0;i--){var s=d().validPositions[i];if(s){if(!0!==s.generatedInput&&/[0-9a-bA-Z]/.test(s.input)&&t.push(s.input),delete d().validPositions[i],void 0!==s.alternation&&s.locator[s.alternation]!==o.locator[s.alternation])break;o=s}}if(i>-1)for(d().p=E(p(-1,!0));t.length>0;){var l=new e.Event("keypress");l.which=t.pop().charCodeAt(0),J.keypressEvent.call(n,l,!0,!1,!1,d().p)}else d().validPositions=e.extend(!0,{},a)}}();var l=p(a.begin,!0);l<a.begin?d().p=E(l):!0!==o&&(d().p=a.begin)}function F(t){function n(){V.style.position="absolute",V.style.top=i.top+"px",V.style.left=i.left+"px",V.style.width=parseInt(t.offsetWidth)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth)+"px",V.style.height=parseInt(t.offsetHeight)-parseInt(a.paddingTop)-parseInt(a.paddingBottom)-parseInt(a.borderTopWidth)-parseInt(a.borderBottomWidth)+"px",V.style.lineHeight=V.style.height,V.style.zIndex=isNaN(a.zIndex)?-1:a.zIndex-1,V.style.webkitAppearance="textfield",V.style.mozAppearance="textfield",V.style.Appearance="textfield"}var i=e(t).position(),a=(t.ownerDocument.defaultView||window).getComputedStyle(t,null);for(var o in t.parentNode,V=document.createElement("div"),document.body.appendChild(V),a)isNaN(o)&&"cssText"!==o&&-1==o.indexOf("webkit")&&(V.style[o]=a[o]);t.style.backgroundColor="transparent",t.style.color="transparent",t.style.webkitAppearance="caret",t.style.mozAppearance="caret",t.style.Appearance="caret",n(),e(window).on("resize",function(r){i=e(t).position(),a=(t.ownerDocument.defaultView||window).getComputedStyle(t,null),n()}),e(t).on("click",function(e){return R(t,function(e){var n,i=document.createElement("span");for(var r in a)isNaN(r)&&-1!==r.indexOf("font")&&(i.style[r]=a[r]);i.style.textTransform=a.textTransform,i.style.letterSpacing=a.letterSpacing,i.style.position="absolute",i.style.height="auto",i.style.width="auto",i.style.visibility="hidden",i.style.whiteSpace="nowrap",document.body.appendChild(i);var o,s=t.inputmask._valueGet(),l=0;for(n=0,o=s.length;n<=o;n++){if(i.innerHTML+=s.charAt(n)||"_",i.offsetWidth>=e){var c=e-l,u=i.offsetWidth-e;i.innerHTML=s.charAt(n),n=(c-=i.offsetWidth/3)<u?n-1:n;break}l=i.offsetWidth}return document.body.removeChild(i),n}(e.clientX)),J.clickEvent.call(this,[e])}),e(t).on("keydown",function(e){e.shiftKey||!1===r.insertMode||setTimeout(function(){H(t)},0)})}function H(e,t,n){function i(){o||null!==l.fn&&void 0!==c.input?o&&null!==l.fn&&void 0!==c.input&&(o=!1,a+="</span>"):(o=!0,a+="<span class='im-static''>")}if(void 0!==V){t=t||w(),void 0===n?n=R(e):void 0===n.begin&&(n={begin:n,end:n});var a="",o=!1;if(""!=t){var s,l,c,u=0,h=p();do{u===n.begin&&document.activeElement===e&&(a+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>"),d().validPositions[u]?(c=d().validPositions[u],l=c.match,s=c.locator.slice(),i(),a+=c.input):(c=g(u,s,u-1),l=c.match,s=c.locator.slice(),(!1===r.jitMasking||u<h||"number"==typeof r.jitMasking&&isFinite(r.jitMasking)&&r.jitMasking>u)&&(i(),a+=O(u,l))),u++}while((void 0===B||u<B)&&(null!==l.fn||""!==l.def)||h>u)}V.innerHTML=a}}i=i||this.maskset,r=r||this.opts;var U,q,B,V,K,G=this.el,z=this.isRTL,W=!1,Y=!1,Q=!1,Z=!1,X={on:function(n,i,a){var o=function(n){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var i=e.data(this,"_inputmask_opts");i?new t(i).mask(this):X.off(this)}else{if("setvalue"===n.type||!(this.disabled||this.readOnly&&!("keydown"===n.type&&n.ctrlKey&&67===n.keyCode||!1===r.tabThrough&&n.keyCode===t.keyCode.TAB))){switch(n.type){case"input":if(!0===Y)return Y=!1,n.preventDefault();break;case"keydown":W=!1,Y=!1;break;case"keypress":if(!0===W)return n.preventDefault();W=!0;break;case"click":if(s||l){var o=this,c=arguments;return setTimeout(function(){a.apply(o,c)},0),!1}}var u=a.apply(this,arguments);return!1===u&&(n.preventDefault(),n.stopPropagation()),u}n.preventDefault()}};n.inputmask.events[i]=n.inputmask.events[i]||[],n.inputmask.events[i].push(o),-1!==e.inArray(i,["submit","reset"])?null!=n.form&&e(n.form).on(i,o):e(n).on(i,o)},off:function(t,n){var i;t.inputmask&&t.inputmask.events&&(n?(i=[])[n]=t.inputmask.events[n]:i=t.inputmask.events,e.each(i,function(n,i){for(;i.length>0;){var a=i.pop();-1!==e.inArray(n,["submit","reset"])?null!=t.form&&e(t.form).off(n,a):e(t).off(n,a)}delete t.inputmask.events[n]}))}},J={keydownEvent:function(n){var i=this,a=e(i),o=n.keyCode,s=R(i);if(o===t.keyCode.BACKSPACE||o===t.keyCode.DELETE||l&&o===t.keyCode.BACKSPACE_SAFARI||n.ctrlKey&&o===t.keyCode.X&&!function(e){var t=document.createElement("input"),n="on"+e,i=n in t;return i||(t.setAttribute(n,"return;"),i="function"==typeof t[n]),t=null,i}("cut"))n.preventDefault(),N(i,o,s),P(i,w(!0),d().p,n,i.inputmask._valueGet()!==w().join("")),i.inputmask._valueGet()===b().join("")?a.trigger("cleared"):!0===L(w())&&a.trigger("complete");else if(o===t.keyCode.END||o===t.keyCode.PAGE_DOWN){n.preventDefault();var c=E(p());r.insertMode||c!==d().maskLength||n.shiftKey||c--,R(i,n.shiftKey?s.begin:c,c,!0)}else o===t.keyCode.HOME&&!n.shiftKey||o===t.keyCode.PAGE_UP?(n.preventDefault(),R(i,0,n.shiftKey?s.begin:0,!0)):(r.undoOnEscape&&o===t.keyCode.ESCAPE||90===o&&n.ctrlKey)&&!0!==n.altKey?(M(i,!0,!1,U.split("")),a.trigger("click")):o!==t.keyCode.INSERT||n.shiftKey||n.ctrlKey?!0===r.tabThrough&&o===t.keyCode.TAB?(!0===n.shiftKey?(null===v(s.begin).match.fn&&(s.begin=E(s.begin)),s.end=$(s.begin,!0),s.begin=$(s.end,!0)):(s.begin=E(s.begin,!0),s.end=E(s.begin,!0),s.end<d().maskLength&&s.end--),s.begin<d().maskLength&&(n.preventDefault(),R(i,s.begin,s.end))):n.shiftKey||!1===r.insertMode&&(o===t.keyCode.RIGHT?setTimeout(function(){var e=R(i);R(i,e.begin)},0):o===t.keyCode.LEFT&&setTimeout(function(){var e=R(i);R(i,z?e.begin+1:e.begin-1)},0)):(r.insertMode=!r.insertMode,R(i,r.insertMode||s.begin!==d().maskLength?s.begin:s.begin-1));r.onKeyDown.call(this,n,w(),R(i).begin,r),Q=-1!==e.inArray(o,r.ignorables)},keypressEvent:function(n,i,a,o,s){var l=this,c=e(l),u=n.which||n.charCode||n.keyCode;if(!(!0===i||n.ctrlKey&&n.altKey)&&(n.ctrlKey||n.metaKey||Q))return u===t.keyCode.ENTER&&U!==w().join("")&&(U=w().join(""),setTimeout(function(){c.trigger("change")},0)),!0;if(u){46===u&&!1===n.shiftKey&&","===r.radixPoint&&(u=44);var p,f=i?{begin:s,end:s}:R(l),m=String.fromCharCode(u);d().writeOutBuffer=!0;var g=D(f,m,o);if(!1!==g&&(h(!0),p=void 0!==g.caret?g.caret:i?g.pos+1:E(g.pos),d().p=p),!1!==a){var v=this;if(setTimeout(function(){r.onKeyValidation.call(v,u,g,r)},0),d().writeOutBuffer&&!1!==g){var y=w();P(l,y,r.numericInput&&void 0===g.caret?$(p):p,n,!0!==i),!0!==i&&setTimeout(function(){!0===L(y)&&c.trigger("complete")},0)}}if(n.preventDefault(),i)return g.forwardPosition=p,g}},pasteEvent:function(t){var n,i=this,a=t.originalEvent||t,o=e(i),s=i.inputmask._valueGet(!0),l=R(i);z&&(n=l.end,l.end=l.begin,l.begin=n);var c=s.substr(0,l.begin),u=s.substr(l.end,s.length);if(c===(z?b().reverse():b()).slice(0,l.begin).join("")&&(c=""),u===(z?b().reverse():b()).slice(l.end).join("")&&(u=""),z&&(n=c,c=u,u=n),window.clipboardData&&window.clipboardData.getData)s=c+window.clipboardData.getData("Text")+u;else{if(!a.clipboardData||!a.clipboardData.getData)return!0;s=c+a.clipboardData.getData("text/plain")+u}var d=s;if(e.isFunction(r.onBeforePaste)){if(!1===(d=r.onBeforePaste(s,r)))return t.preventDefault();d||(d=s)}return M(i,!1,!1,z?d.split("").reverse():d.toString().split("")),P(i,w(),E(p()),t,U!==w().join("")),!0===L(w())&&o.trigger("complete"),t.preventDefault()},inputFallBackEvent:function(n){var i=this,a=i.inputmask._valueGet();if(w().join("")!==a){var r=R(i);if(a=a.replace(new RegExp("("+t.escapeRegex(b().join(""))+")*"),""),s){var o=a.replace(w().join(""),"");if(1===o.length){var l=new e.Event("keypress");return l.which=o.charCodeAt(0),J.keypressEvent.call(i,l,!0,!0,!1,d().validPositions[r.begin-1]?r.begin:r.begin-1),!1}}if(r.begin>a.length&&(R(i,a.length),r=R(i)),w().length-a.length!=1||a.charAt(r.begin)===w()[r.begin]||a.charAt(r.begin+1)===w()[r.begin]||S(r.begin)){for(var c=p()+1,u=b().join("");null===a.match(t.escapeRegex(u)+"$");)u=u.slice(1);M(i,!0,!1,a=(a=a.replace(u,"")).split(""),n,r.begin<c),!0===L(w())&&e(i).trigger("complete")}else n.keyCode=t.keyCode.BACKSPACE,J.keydownEvent.call(i,n);n.preventDefault()}},setValueEvent:function(t){var n=this,i=n.inputmask._valueGet();M(n,!0,!1,(e.isFunction(r.onBeforeMask)&&r.onBeforeMask(i,r)||i).split("")),U=w().join(""),(r.clearMaskOnLostFocus||r.clearIncomplete)&&n.inputmask._valueGet()===b().join("")&&n.inputmask._valueSet("")},focusEvent:function(e){var t=this,n=t.inputmask._valueGet();r.showMaskOnFocus&&(!r.showMaskOnHover||r.showMaskOnHover&&""===n)&&(t.inputmask._valueGet()!==w().join("")?P(t,w(),E(p())):!1===Z&&R(t,E(p()))),!0===r.positionCaretOnTab&&J.clickEvent.apply(t,[e,!0]),U=w().join("")},mouseleaveEvent:function(e){var t=this;if(Z=!1,r.clearMaskOnLostFocus&&document.activeElement!==t){var n=w().slice(),i=t.inputmask._valueGet();i!==t.getAttribute("placeholder")&&""!==i&&(-1===p()&&i===b().join("")?n=[]:I(n),P(t,n))}},clickEvent:function(t,n){var i=this;setTimeout(function(){if(document.activeElement===i){var t=R(i);if(n&&(t.begin=t.end),t.begin===t.end)switch(r.positionCaretOnClick){case"none":break;case"radixFocus":if(function(t){if(""!==r.radixPoint){var n=d().validPositions;if(void 0===n[t]||n[t].input===O(t)){if(t<E(-1))return!0;var i=e.inArray(r.radixPoint,w());if(-1!==i){for(var a in n)if(i<a&&n[a].input!==O(a))return!1;return!0}}}return!1}(t.begin)){var a=e.inArray(r.radixPoint,w().join(""));R(i,r.numericInput?E(a):a);break}default:var o=t.begin,s=E(p(o,!0));if(o<s)R(i,S(o)||S(o-1)?o:E(o));else{var l=O(s);(""!==l&&w()[s]!==l&&!0!==v(s).match.optionalQuantifier||!S(s)&&v(s).match.def===l)&&(s=E(s)),R(i,s)}}}},0)},dblclickEvent:function(e){var t=this;setTimeout(function(){R(t,0,E(p()))},0)},cutEvent:function(n){var i=this,a=e(i),r=R(i),o=n.originalEvent||n,s=window.clipboardData||o.clipboardData,l=z?w().slice(r.end,r.begin):w().slice(r.begin,r.end);s.setData("text",z?l.reverse().join(""):l.join("")),document.execCommand&&document.execCommand("copy"),N(i,t.keyCode.DELETE,r),P(i,w(),d().p,n,U!==w().join("")),i.inputmask._valueGet()===b().join("")&&a.trigger("cleared")},blurEvent:function(t){var n=e(this),i=this;if(i.inputmask){var a=i.inputmask._valueGet(),o=w().slice();U!==o.join("")&&setTimeout(function(){n.trigger("change"),U=o.join("")},0),""!==a&&(r.clearMaskOnLostFocus&&(-1===p()&&a===b().join("")?o=[]:I(o)),!1===L(o)&&(setTimeout(function(){n.trigger("incomplete")},0),r.clearIncomplete&&(h(),o=r.clearMaskOnLostFocus?[]:b().slice())),P(i,o,void 0,t))}},mouseenterEvent:function(e){var t=this;Z=!0,document.activeElement!==t&&r.showMaskOnHover&&t.inputmask._valueGet()!==w().join("")&&P(t,w())},submitEvent:function(e){U!==w().join("")&&q.trigger("change"),r.clearMaskOnLostFocus&&-1===p()&&G.inputmask._valueGet&&G.inputmask._valueGet()===b().join("")&&G.inputmask._valueSet(""),r.removeMaskOnSubmit&&(G.inputmask._valueSet(G.inputmask.unmaskedvalue(),!0),setTimeout(function(){P(G,w())},0))},resetEvent:function(e){setTimeout(function(){q.trigger("setvalue")},0)}};if(void 0!==n)switch(n.action){case"isComplete":return G=n.el,L(w());case"unmaskedvalue":return void 0!==G&&void 0===n.value||(K=n.value,K=(e.isFunction(r.onBeforeMask)&&r.onBeforeMask(K,r)||K).split(""),M(void 0,!1,!1,z?K.reverse():K),e.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,w(),0,r)),T(G);case"mask":!function(t){var n=function(t,n){var i=t.getAttribute("type"),a="INPUT"===t.tagName&&-1!==e.inArray(i,n.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!a)if("INPUT"===t.tagName){var r=document.createElement("input");r.setAttribute("type",i),a="text"===r.type,r=null}else a="partial";return!1!==a&&function(t){function i(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==p()||!0!==n.nullable?document.activeElement===this&&n.clearMaskOnLostFocus?(z?I(w().slice()).reverse():I(w().slice())).join(""):r.call(this):"":r.call(this)}function a(t){o.call(this,t),this.inputmask&&e(this).trigger("setvalue")}var r,o;if(!t.inputmask.__valueGet){if(!0!==n.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==_typeof("test".__proto__)?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var s=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;s&&s.get&&s.set?(r=s.get,o=s.set,Object.defineProperty(t,"value",{get:i,set:a,configurable:!0})):"INPUT"!==t.tagName&&(r=function(){return this.textContent},o=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:i,set:a,configurable:!0}))}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(r=t.__lookupGetter__("value"),o=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",a));t.inputmask.__valueGet=r,t.inputmask.__valueSet=o}t.inputmask._valueGet=function(e){return z&&!0!==e?r.call(this.el).split("").reverse().join(""):r.call(this.el)},t.inputmask._valueSet=function(e,t){o.call(this.el,null==e?"":!0!==t&&z?e.split("").reverse().join(""):e)},void 0===r&&(r=function(){return this.value},o=function(e){this.value=e},function(t){if(e.valHooks&&(void 0===e.valHooks[t]||!0!==e.valHooks[t].inputmaskpatch)){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},a=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=i(e);return-1!==p(void 0,void 0,e.inputmask.maskset.validPositions)||!0!==n.nullable?t:""}return i(e)},set:function(t,n){var i,r=e(t);return i=a(t,n),t.inputmask&&r.trigger("setvalue"),i},inputmaskpatch:!0}}}(t.type),function(t){X.on(t,"mouseenter",function(t){var n=e(this);this.inputmask._valueGet()!==w().join("")&&n.trigger("setvalue")})}(t))}}(t),a}(t,r);if(!1!==n&&(q=e(G=t),("rtl"===G.dir||r.rightAlign)&&(G.style.textAlign="right"),("rtl"===G.dir||r.numericInput)&&(G.dir="ltr",G.removeAttribute("dir"),G.inputmask.isRTL=!0,z=!0),!0===r.colorMask&&F(G),c&&(G.hasOwnProperty("inputmode")&&(G.inputmode=r.inputmode,G.setAttribute("inputmode",r.inputmode)),"rtfm"===r.androidHack&&(!0!==r.colorMask&&F(G),G.type="password")),X.off(G),!0===n&&(X.on(G,"submit",J.submitEvent),X.on(G,"reset",J.resetEvent),X.on(G,"mouseenter",J.mouseenterEvent),X.on(G,"blur",J.blurEvent),X.on(G,"focus",J.focusEvent),X.on(G,"mouseleave",J.mouseleaveEvent),!0!==r.colorMask&&X.on(G,"click",J.clickEvent),X.on(G,"dblclick",J.dblclickEvent),X.on(G,"paste",J.pasteEvent),X.on(G,"dragdrop",J.pasteEvent),X.on(G,"drop",J.pasteEvent),X.on(G,"cut",J.cutEvent),X.on(G,"complete",r.oncomplete),X.on(G,"incomplete",r.onincomplete),X.on(G,"cleared",r.oncleared),!0!==r.inputEventOnly&&(X.on(G,"keydown",J.keydownEvent),X.on(G,"keypress",J.keypressEvent)),X.on(G,"compositionstart",e.noop),X.on(G,"compositionupdate",e.noop),X.on(G,"compositionend",e.noop),X.on(G,"keyup",e.noop),X.on(G,"input",J.inputFallBackEvent)),X.on(G,"setvalue",J.setValueEvent),b(),""!==G.inputmask._valueGet()||!1===r.clearMaskOnLostFocus||document.activeElement===G)){var i=e.isFunction(r.onBeforeMask)&&r.onBeforeMask(G.inputmask._valueGet(),r)||G.inputmask._valueGet();M(G,!0,!1,i.split(""));var a=w().slice();U=a.join(""),!1===L(a)&&r.clearIncomplete&&h(),r.clearMaskOnLostFocus&&document.activeElement!==G&&(-1===p()?a=[]:I(a)),P(G,a),document.activeElement===G&&R(G,E(p()))}}(G);break;case"format":return K=(e.isFunction(r.onBeforeMask)&&r.onBeforeMask(n.value,r)||n.value).split(""),M(void 0,!1,!1,z?K.reverse():K),e.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,w(),0,r),n.metadata?{value:z?w().slice().reverse().join(""):w().join(""),metadata:a.call(this,{action:"getmetadata"},i,r)}:z?w().slice().reverse().join(""):w().join("");case"isValid":n.value?(K=n.value.split(""),M(void 0,!1,!0,z?K.reverse():K)):n.value=w().join("");for(var ee=w(),te=j(),ne=ee.length-1;ne>te&&!S(ne);ne--);return ee.splice(te,ne+1-te),L(ee)&&n.value===w().join("");case"getemptymask":return b().join("");case"remove":if(G)q=e(G),G.inputmask._valueSet(T(G)),X.off(G),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(G),"value")&&G.inputmask.__valueGet&&Object.defineProperty(G,"value",{get:G.inputmask.__valueGet,set:G.inputmask.__valueSet,configurable:!0}):document.__lookupGetter__&&G.__lookupGetter__("value")&&G.inputmask.__valueGet&&(G.__defineGetter__("value",G.inputmask.__valueGet),G.__defineSetter__("value",G.inputmask.__valueSet)),G.inputmask=void 0;return G;case"getmetadata":if(e.isArray(i.metadata)){var ie=u(!0,0,!1).join("");return e.each(i.metadata,function(e,t){if(t.mask===ie)return ie=t,!1}),ie}return i.metadata}}var r=navigator.userAgent,o=/mobile/i.test(r),s=/iemobile/i.test(r),l=/iphone/i.test(r)&&!s,c=/android/i.test(r)&&!s;t.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,n){return e.isFunction(n.onBeforeMask)?n.onBeforeMask(t,n):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:e.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1},masksCache:{},mask:function(r){function o(t,i,a,r){function o(e,n){null!==(n=void 0!==n?n:t.getAttribute(r+"-"+e))&&("string"==typeof n&&(0===e.indexOf("on")?n=window[n]:"false"===n?n=!1:"true"===n&&(n=!0)),a[e]=n)}var s,l,c,u,d=t.getAttribute(r);if(d&&""!==d&&(d=d.replace(new RegExp("'","g"),'"'),l=JSON.parse("{"+d+"}")),l)for(u in c=void 0,l)if("alias"===u.toLowerCase()){c=l[u];break}for(s in o("alias",c),a.alias&&n(a.alias,a,i),i){if(l)for(u in c=void 0,l)if(u.toLowerCase()===s.toLowerCase()){c=l[u];break}o(s,c)}return e.extend(!0,i,a),i}var s=this;return"string"==typeof r&&(r=document.getElementById(r)||document.querySelectorAll(r)),r=r.nodeName?[r]:r,e.each(r,function(n,r){var l=e.extend(!0,{},s.opts);o(r,l,e.extend(!0,{},s.userOptions),s.dataAttribute);var c=i(l,s.noMasksCache);void 0!==c&&(void 0!==r.inputmask&&r.inputmask.remove(),r.inputmask=new t,r.inputmask.opts=l,r.inputmask.noMasksCache=s.noMasksCache,r.inputmask.userOptions=e.extend(!0,{},s.userOptions),r.inputmask.el=r,r.inputmask.maskset=c,e.data(r,"_inputmask_opts",l),a.call(r.inputmask,{action:"mask"}))}),r&&r[0]&&r[0].inputmask||this},option:function(t,n){return"string"==typeof t?this.opts[t]:"object"==_typeof(t)?(e.extend(this.userOptions,t),this.el&&!0!==n&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return a.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"format",value:e,metadata:t})},analyseMask:function(t,n){function i(e,t,n,i){this.matches=[],this.openGroup=e||!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function a(t,i,a){var r=n.definitions[i];a=void 0!==a?a:t.matches.length;var o=t.matches[a-1];if(r&&!f){r.placeholder=e.isFunction(r.placeholder)?r.placeholder(n):r.placeholder;for(var s=r.prevalidator,l=s?s.length:0,c=1;c<r.cardinality;c++){var u=l>=c?s[c-1]:[],d=u.validator,h=u.cardinality;t.matches.splice(a++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:h||1,optionality:t.isOptional,newBlockMarker:void 0===o||o.def!==(r.definitionSymbol||i),casing:r.casing,def:r.definitionSymbol||i,placeholder:r.placeholder,nativeDef:i}),o=t.matches[a-1]}t.matches.splice(a++,0,{fn:r.validator?"string"==typeof r.validator?new RegExp(r.validator):new function(){this.test=r.validator}:new RegExp("."),cardinality:r.cardinality,optionality:t.isOptional,newBlockMarker:void 0===o||o.def!==(r.definitionSymbol||i),casing:r.casing,def:r.definitionSymbol||i,placeholder:r.placeholder,nativeDef:i})}else t.matches.splice(a++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:void 0===o||o.def!==i,casing:null,def:n.staticDefinitionSymbol||i,placeholder:void 0!==n.staticDefinitionSymbol?i:void 0,nativeDef:i}),f=!1}function r(){if(g.length>0){if(a(c=g[g.length-1],s),c.isAlternator){u=g.pop();for(var e=0;e<u.matches.length;e++)u.matches[e].isGroup=!1;g.length>0?(c=g[g.length-1]).matches.push(u):m.matches.push(u)}}else a(m,s)}for(var o,s,l,c,u,d,h,p=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,f=!1,m=new i,g=[],v=[];o=p.exec(t);)if(s=o[0],f)r();else switch(s.charAt(0)){case n.escapeChar:f=!0;break;case n.optionalmarker.end:case n.groupmarker.end:if((l=g.pop()).openGroup=!1,void 0!==l)if(g.length>0){if((c=g[g.length-1]).matches.push(l),c.isAlternator){u=g.pop();for(var y=0;y<u.matches.length;y++)u.matches[y].isGroup=!1;g.length>0?(c=g[g.length-1]).matches.push(u):m.matches.push(u)}}else m.matches.push(l);else r();break;case n.optionalmarker.start:g.push(new i(!1,!0));break;case n.groupmarker.start:g.push(new i(!0));break;case n.quantifiermarker.start:var k=new i(!1,!1,!0),b=(s=s.replace(/[{}]/g,"")).split(","),w=isNaN(b[0])?b[0]:parseInt(b[0]),x=1===b.length?w:isNaN(b[1])?b[1]:parseInt(b[1]);if("*"!==x&&"+"!==x||(w="*"===x?0:1),k.quantifier={min:w,max:x},g.length>0){var _=g[g.length-1].matches;(o=_.pop()).isGroup||((h=new i(!0)).matches.push(o),o=h),_.push(o),_.push(k)}else(o=m.matches.pop()).isGroup||((h=new i(!0)).matches.push(o),o=h),m.matches.push(o),m.matches.push(k);break;case n.alternatormarker:g.length>0?d=(c=g[g.length-1]).matches.pop():d=m.matches.pop(),d.isAlternator?g.push(d):((u=new i(!1,!1,!1,!0)).matches.push(d),g.push(u));break;default:r()}for(;g.length>0;)l=g.pop(),m.matches.push(l);return m.matches.length>0&&(function t(i){i&&i.matches&&e.each(i.matches,function(e,r){var o=i.matches[e+1];(void 0===o||void 0===o.matches||!1===o.isQuantifier)&&r&&r.isGroup&&(r.isGroup=!1,a(r,n.groupmarker.start,0),!0!==r.openGroup&&a(r,n.groupmarker.end)),t(r)})}(m),v.push(m)),n.numericInput&&function e(t){function i(e){return e===n.optionalmarker.start?e=n.optionalmarker.end:e===n.optionalmarker.end?e=n.optionalmarker.start:e===n.groupmarker.start?e=n.groupmarker.end:e===n.groupmarker.end&&(e=n.groupmarker.start),e}for(var a in t.matches=t.matches.reverse(),t.matches){var r=parseInt(a);if(t.matches[a].isQuantifier&&t.matches[r+1]&&t.matches[r+1].isGroup){var o=t.matches[a];t.matches.splice(a,1),t.matches.splice(r+1,0,o)}void 0!==t.matches[a].matches?t.matches[a]=e(t.matches[a]):t.matches[a]=i(t.matches[a])}return t}(v[0]),v}},t.extendDefaults=function(n){e.extend(!0,t.prototype.defaults,n)},t.extendDefinitions=function(n){e.extend(!0,t.prototype.defaults.definitions,n)},t.extendAliases=function(n){e.extend(!0,t.prototype.defaults.aliases,n)},t.format=function(e,n,i){return t(n).format(e,i)},t.unmask=function(e,n){return t(n).unmaskedvalue(e)},t.isValid=function(e,n){return t(n).isValid(e)},t.remove=function(t){e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},t.escapeRegex=function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},t.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},window.Inputmask=t}(jQuery),function(e,t){void 0===e.fn.inputmask&&(e.fn.inputmask=function(n,i){var a,r=this[0];if(void 0===i&&(i={}),"string"==typeof n)switch(n){case"unmaskedvalue":return r&&r.inputmask?r.inputmask.unmaskedvalue():e(r).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return r&&r.inputmask?r.inputmask.getemptymask():"";case"hasMaskedValue":return!(!r||!r.inputmask)&&r.inputmask.hasMaskedValue();case"isComplete":return!r||!r.inputmask||r.inputmask.isComplete();case"getmetadata":return r&&r.inputmask?r.inputmask.getmetadata():void 0;case"setvalue":e(r).val(i),r&&void 0===r.inputmask&&e(r).triggerHandler("setvalue");break;case"option":if("string"!=typeof i)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(i)});if(r&&void 0!==r.inputmask)return r.inputmask.option(i);break;default:return i.alias=n,a=new t(i),this.each(function(){a.mask(this)})}else{if("object"==_typeof(n))return a=new t(n),void 0===n.mask&&void 0===n.alias?this.each(function(){return void 0!==this.inputmask?this.inputmask.option(n):void a.mask(this)}):this.each(function(){a.mask(this)});if(void 0===n)return this.each(function(){(a=new t(i)).mask(this)})}}),e.fn.inputmask}(jQuery,Inputmask),jQuery,Inputmask,function(e,t){t.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+n+"[01])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9])"+n+"(0[1-9]|1[012]))|(30"+n+"(0[13-9]|1[012]))|(31"+n+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,n){if(isNaN(e))return!1;var i=parseInt(e.concat(t.toString().slice(e.length))),a=parseInt(e.concat(n.toString().slice(e.length)));return!isNaN(i)&&t<=i&&i<=n||!isNaN(a)&&t<=a&&a<=n},determinebaseyear:function(e,t,n){var i=(new Date).getFullYear();if(e>i)return e;if(t<i){for(var a=t.toString().slice(0,2),r=t.toString().slice(2,4);t<a+n;)a--;var o=a+r;return e>o?e:o}if(e<=i&&i<=t){for(var s=i.toString().slice(0,2);t<s+n;)s--;var l=s+n;return l<e?e:l}return i},onKeyDown:function(n,i,a,r){var o=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var s=new Date;o.val(s.getDate().toString()+(s.getMonth()+1).toString()+s.getFullYear().toString()),o.trigger("setvalue")}},getFrontValue:function(e,t,n){for(var i=0,a=0,r=0;r<e.length&&"2"!==e.charAt(r);r++){var o=n.definitions[e.charAt(r)];o?(i+=a,a=o.cardinality):a++}return t.join("").substr(i,a)},postValidation:function(e,t,n){var i,a,r=e.join("");return 0===n.mask.indexOf("y")?(a=r.substr(0,4),i=r.substr(4,11)):(a=r.substr(6,11),i=r.substr(0,6)),t&&(i!==n.leapday||function(e){return isNaN(e)||29===new Date(e,2,0).getDate()}(a))},definitions:{1:{validator:function(e,t,n,i,a){var r=a.regex.val1.test(e);return i||r||e.charAt(1)!==a.separator&&-1==="-./".indexOf(e.charAt(1))||!(r=a.regex.val1.test("0"+e.charAt(0)))?r:(t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,i,a){var r=e;isNaN(t.buffer[n+1])||(r+=t.buffer[n+1]);var o=1===r.length?a.regex.val1pre.test(r):a.regex.val1.test(r);if(!i&&!o){if(o=a.regex.val1.test(e+"0"))return t.buffer[n]=e,t.buffer[++n]="0",{pos:n,c:"0"};if(o=a.regex.val1.test("0"+e))return t.buffer[n]="0",{pos:++n}}return o},cardinality:1}]},2:{validator:function(e,t,n,i,a){var r=a.getFrontValue(t.mask,t.buffer,a);-1!==r.indexOf(a.placeholder[0])&&(r="01"+a.separator);var o=a.regex.val2(a.separator).test(r+e);return i||o||e.charAt(1)!==a.separator&&-1==="-./".indexOf(e.charAt(1))||!(o=a.regex.val2(a.separator).test(r+"0"+e.charAt(0)))?o:(t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,i,a){isNaN(t.buffer[n+1])||(e+=t.buffer[n+1]);var r=a.getFrontValue(t.mask,t.buffer,a);-1!==r.indexOf(a.placeholder[0])&&(r="01"+a.separator);var o=1===e.length?a.regex.val2pre(a.separator).test(r+e):a.regex.val2(a.separator).test(r+e);return i||o||!(o=a.regex.val2(a.separator).test(r+"0"+e))?o:(t.buffer[n]="0",{pos:++n})},cardinality:1}]},y:{validator:function(e,t,n,i,a){return a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear)},cardinality:4,prevalidator:[{validator:function(e,t,n,i,a){var r=a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear);if(!i&&!r){var o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e+"0").toString().slice(0,1);if(r=a.isInYearRange(o+e,a.yearrange.minyear,a.yearrange.maxyear))return t.buffer[n++]=o.charAt(0),{pos:n};if(o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e+"0").toString().slice(0,2),r=a.isInYearRange(o+e,a.yearrange.minyear,a.yearrange.maxyear))return t.buffer[n++]=o.charAt(0),t.buffer[n++]=o.charAt(1),{pos:n}}return r},cardinality:1},{validator:function(e,t,n,i,a){var r=a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear);if(!i&&!r){var o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e).toString().slice(0,2);if(r=a.isInYearRange(e[0]+o[1]+e[1],a.yearrange.minyear,a.yearrange.maxyear))return t.buffer[n++]=o.charAt(1),{pos:n};if(o=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e).toString().slice(0,2),r=a.isInYearRange(o+e,a.yearrange.minyear,a.yearrange.maxyear))return t.buffer[n-1]=o.charAt(0),t.buffer[n++]=o.charAt(1),t.buffer[n++]=e.charAt(0),{refreshFromBuffer:{start:n-3,end:n},pos:n}}return r},cardinality:2},{validator:function(e,t,n,i,a){return a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(n,i,a,r){var o=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var s=new Date;o.val((s.getMonth()+1).toString()+s.getDate().toString()+s.getFullYear().toString()),o.trigger("setvalue")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(n,i,a,r){var o=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var s=new Date;o.val(s.getFullYear().toString()+(s.getMonth()+1).toString()+s.getDate().toString()),o.trigger("setvalue")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,n,i,a){if("24"===a.hourFormat&&24===parseInt(e,10))return t.buffer[n-1]="0",t.buffer[n]="0",{refreshFromBuffer:{start:n-1,end:n},c:"0"};var r=a.regex.hrs.test(e);if(!i&&!r&&(e.charAt(1)===a.timeseparator||-1!=="-.:".indexOf(e.charAt(1)))&&(r=a.regex.hrs.test("0"+e.charAt(0))))return t.buffer[n-1]="0",t.buffer[n]=e.charAt(0),{refreshFromBuffer:{start:++n-2,end:n},pos:n,c:a.timeseparator};if(r&&"24"!==a.hourFormat&&a.regex.hrs24.test(e)){var o=parseInt(e,10);return 24===o?(t.buffer[n+5]="a",t.buffer[n+6]="m"):(t.buffer[n+5]="p",t.buffer[n+6]="m"),(o-=12)<10?(t.buffer[n]=o.toString(),t.buffer[n-1]="0"):(t.buffer[n]=o.toString().charAt(1),t.buffer[n-1]=o.toString().charAt(0)),{refreshFromBuffer:{start:n-1,end:n+6},c:t.buffer[n]}}return r},cardinality:2,prevalidator:[{validator:function(e,t,n,i,a){var r=a.regex.hrspre.test(e);return i||r||!(r=a.regex.hrs.test("0"+e))?r:(t.buffer[n]="0",{pos:++n})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,t,n,i,a){var r=a.regex.mspre.test(e);return i||r||!(r=a.regex.ms.test("0"+e))?r:(t.buffer[n]="0",{pos:++n})},cardinality:1}]},t:{validator:function(e,t,n,i,a){return a.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(n,i,a,r){var o=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var s=new Date;o.val((s.getMonth()+1).toString()+s.getDate().toString()+s.getFullYear().toString()),o.trigger("setvalue")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"[0-3])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+n+"30)|((0[1-6])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}})}(jQuery,Inputmask),function(e,t){t.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),t.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1,inputmode:"url"},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,n,i,a){return n-1>-1&&"."!==t.buffer[n-1]?(e=t.buffer[n-1]+e,e=n-2>-1&&"."!==t.buffer[n-2]?t.buffer[n-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}},onUnMask:function(e,t,n){return e},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(e,t){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(e,t,n){return e},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",cardinality:1,casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}})}(jQuery,Inputmask),function(e,t){t.extendAliases({numeric:{mask:function(e){function n(t){for(var n="",i=0;i<t.length;i++)n+=e.definitions[t.charAt(i)]||e.optionalmarker.start===t.charAt(i)||e.optionalmarker.end===t.charAt(i)||e.quantifiermarker.start===t.charAt(i)||e.quantifiermarker.end===t.charAt(i)||e.groupmarker.start===t.charAt(i)||e.groupmarker.end===t.charAt(i)||e.alternatormarker===t.charAt(i)?"\\"+t.charAt(i):t.charAt(i);return n}if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var i=Math.floor(e.integerDigits/e.groupSize),a=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===a?i-1:i),e.integerDigits<1&&(e.integerDigits="*")}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&!1===e.integerOptional&&(e.positionCaretOnClick="lvp"),e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",!0===e.numericInput&&(e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var r="[+]";if(r+=n(e.prefix),r+=!0===e.integerOptional?"~{1,"+e.integerDigits+"}":"~{"+e.integerDigits+"}",void 0!==e.digits){e.decimalProtect&&(e.radixPointDefinitionSymbol=":");var o=e.digits.toString().split(",");isFinite(o[0]&&o[1]&&isFinite(o[1]))?r+=(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}":(isNaN(e.digits)||parseInt(e.digits)>0)&&(r+=e.digitsOptional?"["+(e.decimalProtect?":":e.radixPoint)+";{1,"+e.digits+"}]":(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}")}return r+=n(e.suffix),r+="[-]",e.greedy=!1,null!==e.min&&(e.min=e.min.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,"."))),null!==e.max&&(e.max=e.max.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,"."))),r},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputmode:"numeric",postFormat:function(n,i,a){var r,o;!0===a.numericInput&&(n=n.reverse(),isFinite(i)&&(i=n.join("").length-i-1));var s=n[i=i>=n.length?n.length-1:i<0?0:i],l=n.slice();s===a.groupSeparator&&(l.splice(i--,1),s=l[i]);var c=l.join("").match(new RegExp("^"+t.escapeRegex(a.negationSymbol.front)));i>((c=null!==c&&1===c.length)?a.negationSymbol.front.length:0)+a.prefix.length&&i<l.length-a.suffix.length&&(l[i]="!");var u=l.join(""),d=l.join();if(c&&(u=(u=u.replace(new RegExp("^"+t.escapeRegex(a.negationSymbol.front)),"")).replace(new RegExp(t.escapeRegex(a.negationSymbol.back)+"$"),"")),(u=(u=u.replace(new RegExp(t.escapeRegex(a.suffix)+"$"),"")).replace(new RegExp("^"+t.escapeRegex(a.prefix)),"")).length>0&&a.autoGroup||-1!==u.indexOf(a.groupSeparator)){var h=t.escapeRegex(a.groupSeparator),p=(u=u.replace(new RegExp(h,"g"),"")).split(s===a.radixPoint?"!":a.radixPoint);if(u=""===a.radixPoint?u:p[0],s!==a.negationSymbol.front&&(u=u.replace("!","?")),u.length>a.groupSize)for(var f=new RegExp("([-+]?[\\d?]+)([\\d?]{"+a.groupSize+"})");f.test(u)&&""!==a.groupSeparator;)u=(u=u.replace(f,"$1"+a.groupSeparator+"$2")).replace(a.groupSeparator+a.groupSeparator,a.groupSeparator);u=u.replace("?","!"),""!==a.radixPoint&&p.length>1&&(u+=(s===a.radixPoint?"!":a.radixPoint)+p[1])}u=a.prefix+u+a.suffix,c&&(u=a.negationSymbol.front+u+a.negationSymbol.back);var m=d!==u.split("").join(),g=e.inArray("!",u);if(-1===g&&(g=i),m){for(n.length=u.length,r=0,o=u.length;r<o;r++)n[r]=u.charAt(r);n[g]=s}return g=a.numericInput&&isFinite(i)?n.join("").length-g-1:g,a.numericInput&&(n=n.reverse(),e.inArray(a.radixPoint,n)<g&&n.join("").length-a.suffix.length!==g&&(g-=1)),{pos:g,refreshFromBuffer:m,buffer:n,isNegative:c}},onBeforeWrite:function(n,i,a,r){var o;if(n&&("blur"===n.type||"checkval"===n.type||"keydown"===n.type)){var s=r.numericInput?i.slice().reverse().join(""):i.join(""),l=s.replace(r.prefix,"");l=(l=l.replace(r.suffix,"")).replace(new RegExp(t.escapeRegex(r.groupSeparator),"g"),""),","===r.radixPoint&&(l=l.replace(r.radixPoint,"."));var c=l.match(new RegExp("[-"+t.escapeRegex(r.negationSymbol.front)+"]","g"));if(c=null!==c&&1===c.length,l=(l=l.replace(new RegExp("[-"+t.escapeRegex(r.negationSymbol.front)+"]","g"),"")).replace(new RegExp(t.escapeRegex(r.negationSymbol.back)+"$"),""),isNaN(r.placeholder)&&(l=l.replace(new RegExp(t.escapeRegex(r.placeholder),"g"),"")),""!==(l=l===r.negationSymbol.front?l+"0":l)&&isFinite(l)){var u=parseFloat(l),d=c?-1*u:u;if(null!==r.min&&isFinite(r.min)&&d<parseFloat(r.min)?(u=Math.abs(r.min),c=r.min<0,s=void 0):null!==r.max&&isFinite(r.max)&&d>parseFloat(r.max)&&(u=Math.abs(r.max),c=r.max<0,s=void 0),l=u.toString().replace(".",r.radixPoint).split(""),isFinite(r.digits)){var h=e.inArray(r.radixPoint,l),p=e.inArray(r.radixPoint,s);-1===h&&(l.push(r.radixPoint),h=l.length-1);for(var f=1;f<=r.digits;f++)r.digitsOptional||void 0!==l[h+f]&&l[h+f]!==r.placeholder.charAt(0)?-1!==p&&void 0!==s[p+f]&&(l[h+f]=l[h+f]||s[p+f]):l[h+f]="0";l[l.length-1]===r.radixPoint&&delete l[l.length-1]}if(u.toString()!==l&&u.toString()+"."!==l||c)return l=(r.prefix+l.join("")).split(""),!c||0===u&&"blur"===n.type||(l.unshift(r.negationSymbol.front),l.push(r.negationSymbol.back)),r.numericInput&&(l=l.reverse()),(o=r.postFormat(l,r.numericInput?a:a-1,r)).buffer&&(o.refreshFromBuffer=o.buffer.join("")!==i.join("")),o}}if(r.autoGroup)return(o=r.postFormat(i,r.numericInput?a:a-1,r)).caret=a<(o.isNegative?r.negationSymbol.front.length:0)+r.prefix.length||a>o.buffer.length-(o.isNegative?r.negationSymbol.back.length:0)?o.pos:o.pos+1,o},regex:{integerPart:function(e){return new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+t.escapeRegex(e.groupSeparator)+t.escapeRegex(e.placeholder.charAt(0))+"]+")}},signHandler:function(e,t,n,i,a){if(!i&&a.allowMinus&&"-"===e||a.allowPlus&&"+"===e){var r=t.buffer.join("").match(a.regex.integerPart(a));if(r&&r[0].length>0)return t.buffer[r.index]===("-"===e?"+":a.negationSymbol.front)?"-"===e?""!==a.negationSymbol.back?{pos:0,c:a.negationSymbol.front,remove:0,caret:n,insert:{pos:t.buffer.length-1,c:a.negationSymbol.back}}:{pos:0,c:a.negationSymbol.front,remove:0,caret:n}:""!==a.negationSymbol.back?{pos:0,c:"+",remove:[0,t.buffer.length-1],caret:n}:{pos:0,c:"+",remove:0,caret:n}:t.buffer[0]===("-"===e?a.negationSymbol.front:"+")?"-"===e&&""!==a.negationSymbol.back?{remove:[0,t.buffer.length-1],caret:n-1}:{remove:0,caret:n-1}:"-"===e?""!==a.negationSymbol.back?{pos:0,c:a.negationSymbol.front,caret:n+1,insert:{pos:t.buffer.length,c:a.negationSymbol.back}}:{pos:0,c:a.negationSymbol.front,caret:n+1}:{pos:0,c:e,caret:n+1}}return!1},radixHandler:function(t,n,i,a,r){if(!a&&!0!==r.numericInput&&t===r.radixPoint&&void 0!==r.digits&&(isNaN(r.digits)||parseInt(r.digits)>0)){var o=e.inArray(r.radixPoint,n.buffer),s=n.buffer.join("").match(r.regex.integerPart(r));if(-1!==o&&n.validPositions[o])return n.validPositions[o-1]?{caret:o+1}:{pos:s.index,c:s[0],caret:o+1};if(!s||"0"===s[0]&&s.index+1!==i)return n.buffer[s?s.index:i]="0",{pos:(s?s.index:i)+1,c:r.radixPoint}}return!1},leadingZeroHandler:function(t,n,i,a,r,o){if(!a)if((s=n.buffer.slice("")).splice(0,r.prefix.length),s.splice(s.length-r.suffix.length,r.suffix.length),!0===r.numericInput){var s;if("0"===(s=s.reverse())[0]&&void 0===n.validPositions[i-1])return{pos:i,remove:s.length-1}}else{i-=r.prefix.length;var l=e.inArray(r.radixPoint,s),c=s.slice(0,-1!==l?l:void 0).join("").match(r.regex.integerNPart(r));if(c&&(-1===l||i<=l)){var u=-1===l?0:parseInt(s.slice(l+1).join(""));if(0===c[0].indexOf(""!==r.placeholder?r.placeholder.charAt(0):"0")&&(c.index+1===i||!0!==o&&0===u))return n.buffer.splice(c.index+r.prefix.length,1),{pos:c.index+r.prefix.length,remove:c.index+r.prefix.length};if("0"===t&&i<=c.index&&c[0]!==r.groupSeparator)return!1}}return!0},definitions:{"~":{validator:function(n,i,a,r,o,s){var l=o.signHandler(n,i,a,r,o);if(!l&&(!(l=o.radixHandler(n,i,a,r,o))&&(!0===(l=r?new RegExp("[0-9"+t.escapeRegex(o.groupSeparator)+"]").test(n):new RegExp("[0-9]").test(n))&&!0===(l=o.leadingZeroHandler(n,i,a,r,o,s))))){var c=e.inArray(o.radixPoint,i.buffer);l=-1!==c&&(!1===o.digitsOptional||i.validPositions[a])&&!0!==o.numericInput&&a>c&&!r?{pos:a,remove:a}:{pos:a}}return l},cardinality:1},"+":{validator:function(e,t,n,i,a){var r=a.signHandler(e,t,n,i,a);return!r&&(i&&a.allowMinus&&e===a.negationSymbol.front||a.allowMinus&&"-"===e||a.allowPlus&&"+"===e)&&(r=!(!i&&"-"===e)||(""!==a.negationSymbol.back?{pos:n,c:"-"===e?a.negationSymbol.front:"+",caret:n+1,insert:{pos:t.buffer.length,c:a.negationSymbol.back}}:{pos:n,c:"-"===e?a.negationSymbol.front:"+",caret:n+1})),r},cardinality:1,placeholder:""},"-":{validator:function(e,t,n,i,a){var r=a.signHandler(e,t,n,i,a);return!r&&i&&a.allowMinus&&e===a.negationSymbol.back&&(r=!0),r},cardinality:1,placeholder:""},":":{validator:function(e,n,i,a,r){var o=r.signHandler(e,n,i,a,r);if(!o){var s="["+t.escapeRegex(r.radixPoint)+"]";(o=new RegExp(s).test(e))&&n.validPositions[i]&&n.validPositions[i].match.placeholder===r.radixPoint&&(o={caret:i+1})}return o},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(e,n,i){if(""===n&&!0===i.nullable)return n;var a=e.replace(i.prefix,"");return a=(a=a.replace(i.suffix,"")).replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),""),i.unmaskAsNumber?(""!==i.radixPoint&&-1!==a.indexOf(i.radixPoint)&&(a=a.replace(t.escapeRegex.call(this,i.radixPoint),".")),Number(a)):a},isComplete:function(e,n){var i=e.join(""),a=e.slice();if(n.postFormat(a,0,n),a.join("")!==i)return!1;var r=i.replace(n.prefix,"");return r=(r=r.replace(n.suffix,"")).replace(new RegExp(t.escapeRegex(n.groupSeparator),"g"),""),","===n.radixPoint&&(r=r.replace(t.escapeRegex(n.radixPoint),".")),isFinite(r)},onBeforeMask:function(e,n){if(!0===n.numericInput&&(e=e.split("").reverse().join("")),""!==n.radixPoint&&isFinite(e)){var i=e.split("."),a=""!==n.groupSeparator?parseInt(n.groupSize):0;2===i.length&&(i[0].length>a||i[1].length>a)&&(e=e.toString().replace(".",n.radixPoint))}var r=e.match(/,/g),o=e.match(/\./g);if(o&&r?o.length>r.length?e=(e=e.replace(/\./g,"")).replace(",",n.radixPoint):r.length>o.length?e=(e=e.replace(/,/g,"")).replace(".",n.radixPoint):e=e.indexOf(".")<e.indexOf(",")?e.replace(/\./g,""):e=e.replace(/,/g,""):e=e.replace(new RegExp(t.escapeRegex(n.groupSeparator),"g"),""),0===n.digits&&(-1!==e.indexOf(".")?e=e.substring(0,e.indexOf(".")):-1!==e.indexOf(",")&&(e=e.substring(0,e.indexOf(",")))),""!==n.radixPoint&&isFinite(n.digits)&&-1!==e.indexOf(n.radixPoint)){var s=e.split(n.radixPoint)[1].match(new RegExp("\\d*"))[0];if(parseInt(n.digits)<s.toString().length){var l=Math.pow(10,parseInt(n.digits));e=e.replace(t.escapeRegex(n.radixPoint),"."),e=(e=Math.round(parseFloat(e)*l)/l).toString().replace(".",n.radixPoint)}}return!0===n.numericInput&&(e=e.split("").reverse().join("")),e.toString()},canClearPosition:function(e,t,n,i,a){var r=e.validPositions[t].input;return r!==a.radixPoint||null!==e.validPositions[t].match.fn&&!1===a.decimalProtect||isFinite(r)||t===n||r===a.groupSeparator||r===a.negationSymbol.front||r===a.negationSymbol.back},onKeyDown:function(n,i,a,r){var o=e(this);if(n.ctrlKey)switch(n.keyCode){case t.keyCode.UP:o.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(r.step)),o.trigger("setvalue");break;case t.keyCode.DOWN:o.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(r.step)),o.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}})}(jQuery,Inputmask),function(e,t){function n(e,t){var n=(e.mask||e).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),i=(t.mask||t).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),a=(e.mask||e).split("#")[0],r=(t.mask||t).split("#")[0];return 0===r.indexOf(a)?-1:0===a.indexOf(r)?1:n.localeCompare(i)}var i=t.prototype.analyseMask;t.prototype.analyseMask=function(t,n){var a={};return n.phoneCodes&&n.phoneCodes.length>1e3&&(function e(n,i,r){r=r||a,""!==(i=i||"")&&(r[i]={});for(var o="",s=r[i]||r,l=n.length-1;l>=0;l--)s[o=(t=n[l].mask||n[l]).substr(0,1)]=s[o]||[],s[o].unshift(t.substr(1)),n.splice(l,1);for(var c in s)s[c].length>500&&e(s[c].slice(),c,s)}((t=t.substr(1,t.length-2)).split(n.groupmarker.end+n.alternatormarker+n.groupmarker.start)),t=function t(i){var a="",r=[];for(var o in i)e.isArray(i[o])?1===i[o].length?r.push(o+i[o]):r.push(o+n.groupmarker.start+i[o].join(n.groupmarker.end+n.alternatormarker+n.groupmarker.start)+n.groupmarker.end):r.push(o+t(i[o]));return a+(1===r.length?r[0]:n.groupmarker.start+r.join(n.groupmarker.end+n.alternatormarker+n.groupmarker.start)+n.groupmarker.end)}(a)),i.call(this,t,n)},t.extendAliases({abstractphone:{groupmarker:{start:"<",end:">"},countrycode:"",phoneCodes:[],mask:function(e){return e.definitions={"#":e.definitions[9]},e.phoneCodes.sort(n)},keepStatic:!0,onBeforeMask:function(e,t){var n=e.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(n.indexOf(t.countrycode)>1||-1===n.indexOf(t.countrycode))&&(n="+"+t.countrycode+n),n},onUnMask:function(e,t,n){return t},inputmode:"tel"}})}(jQuery,Inputmask),function(e,t){t.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(e,t){return new RegExp(t.regex).test(e.join(""))},definitions:{r:{validator:function(t,n,i,a,r){function o(e,t){this.matches=[],this.isGroup=e||!1,this.isQuantifier=t||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function s(t,n){var i=!1;n&&(d+="(",p++);for(var a=0;a<t.matches.length;a++){var r=t.matches[a];if(!0===r.isGroup)i=s(r,!0);else if(!0===r.isQuantifier){var o=e.inArray(r,t.matches),c=t.matches[o-1],u=d;if(isNaN(r.quantifier.max)){for(;r.repeaterPart&&r.repeaterPart!==d&&r.repeaterPart.length>d.length&&!(i=s(c,!0)););(i=i||s(c,!0))&&(r.repeaterPart=d),d=u+r.quantifier.max}else{for(var h=0,f=r.quantifier.max-1;h<f&&!(i=s(c,!0));h++);d=u+"{"+r.quantifier.min+","+r.quantifier.max+"}"}}else if(void 0!==r.matches)for(var m=0;m<r.length&&!(i=s(r[m],n));m++);else{var g;if("["==r.charAt(0)){g=d,g+=r;for(var v=0;v<p;v++)g+=")";i=new RegExp("^("+g+")$").test(l)}else for(var y=0,k=r.length;y<k;y++)if("\\"!==r.charAt(y)){g=d,g=(g+=r.substr(0,y+1)).replace(/\|$/,"");for(v=0;v<p;v++)g+=")";if(i=new RegExp("^("+g+")$").test(l))break}d+=r}if(i)break}return n&&(d+=")",p--),i}var l,c,u=n.buffer.slice(),d="",h=!1,p=0;null===r.regexTokens&&function(){var e,t,n=new o,i=[];for(r.regexTokens=[];e=r.tokenizer.exec(r.regex);)switch((t=e[0]).charAt(0)){case"(":i.push(new o(!0));break;case")":c=i.pop(),i.length>0?i[i.length-1].matches.push(c):n.matches.push(c);break;case"{":case"+":case"*":var a=new o(!1,!0),s=(t=t.replace(/[{}]/g,"")).split(","),l=isNaN(s[0])?s[0]:parseInt(s[0]),u=1===s.length?l:isNaN(s[1])?s[1]:parseInt(s[1]);if(a.quantifier={min:l,max:u},i.length>0){var d=i[i.length-1].matches;(e=d.pop()).isGroup||((c=new o(!0)).matches.push(e),e=c),d.push(e),d.push(a)}else(e=n.matches.pop()).isGroup||((c=new o(!0)).matches.push(e),e=c),n.matches.push(e),n.matches.push(a);break;default:i.length>0?i[i.length-1].matches.push(t):n.matches.push(t)}n.matches.length>0&&r.regexTokens.push(n)}(),u.splice(i,0,t),l=u.join("");for(var f=0;f<r.regexTokens.length;f++){var m=r.regexTokens[f];if(h=s(m,m.isGroup))break}return h},cardinality:1}}}})}(jQuery,Inputmask),function(e){e.fn.rating=function(t){t=t||function(){},this.each(function(n,i){e(i).data("rating",{callback:t}).bind("init.rating",e.fn.rating.init).bind("set.rating",e.fn.rating.set).bind("hover.rating",e.fn.rating.hover).trigger("init.rating")})},e.extend(e.fn.rating,{init:function(t){for(var n=e(this),i="",a=null,r=n.children(),o=0,s=(e(this),r.length);o<s;o++){var l=e(r[o]).find("input[type=radio]");i=i+'<span uk-icon="icon: stargrade" class="star" data-star="'+l.val()+'" title="'+l.next().text()+'"></span>',l.is(":checked")&&(a=l.val())}r.hide(),n.append('<div class="uk-rateStars-box-items">'+i+"</div>").trigger("set.rating",a),e("span",n).bind("click",e.fn.rating.click),n.trigger("hover.rating")},set:function(t,n){var i=e(this),a=e("span.star",i);n&&(a.removeClass("star-checked"),a.filter(function(t){return e(this).data("star")==n&&e(this)}).addClass("star-checked").prevAll().addClass("star-checked"))},hover:function(t){var n=e(this),i=e("span.star",n);i.bind("mouseenter",function(t){e(this).addClass("star-before").prevAll().addClass("star-before"),e(this).nextAll().addClass("star-after")}),i.bind("mouseleave",function(t){i.each(function(){e(this).removeClass("star-before star-after")})})},click:function(t){t.preventDefault();var n,i=e(t.target).parents(".uk-icon.star"),a=i.parents(".uk-rateStars"),r=i.data("star");a.find("input[type=radio]").each(function(){e(this).val()==r&&(n=e(this))}),n.prop("checked",!0).siblings("input").prop("checked",!1),a.trigger("set.rating",n.val()).data("rating").callback(r,t)}})}(jQuery),window.ajaxLoad=!1,window.activatedSubmitButton=!1,cmd_addClass=function(e){var t=e||{};null!=t.target&&null!=t.data&&$(t.target).addClass(t.data)},cmd_removeClass=function(e){var t=e||{};null!=t.target&&null!=t.data&&$(t.target).removeClass(t.data)},cmd_toggleClass=function(e){var t=e||{};null!=t.target&&null!=t.data&&$(t.target).toggleClass(t.data)},cmd_css=function(e){var t=e||{};null!=t.target&&null!=t.data&&$(t.target).css(t.data)},cmd_animate=function(e){var t=e||{};null!=t.target&&null!=t.data&&$(t.target).animate(t.data,t.options||{})},cmd_val=function(e){var t=e||{};null!=t.target&&null!=t.data&&$(t.target).val(t.data)},cmd_data=function(e){var t=e||{};null!=t.target&&null!=t.attr&&null!=t.data&&$(t.target).data(t.attr,t.data)},cmd_removeData=function(e){var t=e||{};null!=t.target&&null!=t.attr&&$(t.target).removeData(t.attr)},cmd_attr=function(e){var t=e||{};null!=t.target&&null!=t.attr&&null!=t.data&&$(t.target).attr(t.attr,t.data)},cmd_removeAttr=function(e){var t=e||{};null!=t.target&&null!=t.attr&&$(t.target).removeAttr(t.attr)},cmd_html=function(e){var t=e||{};null!=t.target&&null!=t.data&&$(t.target).html(t.data)},cmd_text=function(e){var t=e||{};null!=t.target&&null!=t.data&&$(t.target).text(t.data)},cmd_replaceWith=function(e){var t=e||{};null!=t.target&&null!=t.data&&$(t.target).replaceWith(t.data)},cmd_append=function(e){var t=e||{};null!=t.target&&null!=t.data&&$(t.target).append(t.data)},cmd_prepend=function(e){var t=e||{};null!=t.target&&null!=t.data&&$(t.target).prepend(t.data)},cmd_clearForm=function(e){var t=e||{};null!=t.target&&($(t.target).find('input[type="text"], input[type="email"], input[type="password"], input[type="file"], textarea').val(""),$(t.target).find('input[type="checkbox"]').prop("checked",!1),$(t.target).find('input[type="checkbox"].is-default').prop("checked",!0),$(t.target).find('input[type="radio"].is-default').prop("checked",!0),$(t.target).find("select").find("option").prop("selected",!1))},cmd_slideUp=function cmd_slideUp(options){var o=options||{};null!=o.target&&$(o.target).slideUp(o.duration||500,function(){"undefined"!=o.callback&&eval(o.callback)})},cmd_slideDown=function cmd_slideDown(options){var o=options||{};null!=o.target&&$(o.target).slideDown(o.duration||500,function(){"undefined"!=o.callback&&eval(o.callback)})},cmd_trigger=function(e){var t=e||{};null!=t.target&&null!=t.callback&&$(t.target).trigger(t.callback)},cmd_remove=function(e){var t=e||{};null!=t.target&&$(t.target).remove()},cmd_eval=function cmd_eval(options){var o=options||{};null!=o.data&&eval(o.data)},cmd_UK_modal=function(e){var t=e||{};t.bgClose=t.bgClose||!0,t.clsPage="uk-modal-page view-ajax-modal";var n=t.id||"ajax-modal",i=t.classDialog||"",a=t.classModal||"";if(null!=t.content){var r=UIkit.modal('<div class="uk-modal '.concat(a,'" id="').concat(n,'"><div class="uk-modal-dialog ').concat(i,'">').concat(t.content,"</div></div>"),t);r.show(),$("body").delegate("#".concat(n),"hidden",function(e){e.target===e.currentTarget&&r.$destroy(!0)})}},cmd_UK_modalClose=function(e){var t=e||{};null!=t.target&&$("body div".concat(t.target)).length?UIkit.modal(t.target).hide():$("body div#ajax-modal").length&&UIkit.modal("#ajax-modal").hide()},cmd_UK_modalOpen=function(e){var t=e||{};null!=t.target&&$("body div".concat(t.target)).length&&UIkit.modal(t.target).show()},cmd_UK_notification=function(e){var t=e||{};if(null!=t.text){var n={};n.status=t.status||"primary",n.pos=t.pos||"top-center",UIkit.notification(t.text,n)}},cmd_analyticsGtag=function(e){var t=e||{};"function"==typeof gtag&&gtag("event",t.event||"FORM_SENDING",{event_category:t.category||"FORM_SUBMISSION",event_action:t.action||"COMPLETION"})},cmd_analyticsFbq=function(e){"function"==typeof fbq&&fbq("track",(e||{}).event||"FORM_SENDING")},cmd_eCommerce=function(e){},cmd_changeUrl=function(e){var t=e||{};null!=t.url&&history.pushState(null,null,t.url)},cmd_changeTitle=function(e){var t=e||{};null!=t.title&&(document.title=t.title)},cmd_redirect=function(e){var t=e||{};null!=t.url&&setTimeout(function(){window.location.href=t.url},t.time||0)},cmd_reload=function(e){var t=e||{};$("body").addClass("reload-page"),setTimeout(function(){location.reload()},t.time||0)},cmd_select2=function(){"function"==typeof useSelect2&&useSelect2($)},cmd_ckEditor=function(){"function"==typeof useCkEditor&&useCkEditor($)},cmd_fieldUpload=function(){"function"==typeof useFieldUpload&&useFieldUpload($)},cmd_easyAutocomplete=function(){"function"==typeof useEasyAutocomplete&&useEasyAutocomplete($)},cmd_сodeMirror=function(){"function"==typeof useCodeMirror&&useCodeMirror($)},cmd_scrollToTop=function(e){var t=e||{};if(null!=t.target){var n=t.duration||500;$("html, body").animate({scrollTop:$(t.target).offset().top-100},n)}},function(e){e.ajaxSetup({headers:{"X-CSRF-TOKEN":window.Laravel.csrfToken,LOCALE:window.Laravel.locale,LOCATION:"",DEVICE:window.Laravel.device}}),e(document).ajaxComplete(function(e,t,n){if(200==t.status&&void 0!==t.responseJSON&&void 0!==t.responseJSON.commands&&null!==t.responseJSON.commands)for(var i=0;i<t.responseJSON.commands.length;++i){var a=t.responseJSON.commands[i];null!=window["cmd_"+a.command]&&window["cmd_"+a.command](a.options)}}),e("body").delegate(".use-ajax","click touch",function(t){var n=e(this),i=null!=n.data("skip_load")?1:0;if(!1===window.ajaxLoad||i){var a=n.get(0).tagName,r="",o="";if("A"!=a||n.hasClass("load"))if("BUTTON"==a&&"button"==n.attr("type")){t.preventDefault(),t.stopPropagation(),"undefined"===_typeof(n.attr("disabled"))&&(r=n.data("path"),o=n.data())}else"INPUT"!=a||"checkbox"!=n.attr("type")&&"radio"!=n.attr("type")||(r=n.data("path"),(o=n.data()).option=n.val(),"checkbox"==n.attr("type")&&(o.state=n.prop("checked")));else t.preventDefault(),t.stopPropagation(),"undefined"===_typeof(n.attr("disabled"))&&(r=null!=n.data("path")&&n.data("path")?n.data("path"):n.attr("href"),o=n.data());setTimeout(function(){var e=null!=n.data("hide_load");r&&o&&_ajax_post(n,r,o,e)},200)}}),e("body").delegate("button[type=submit], input[type=submit]","click touch",function(t){window.activatedSubmitButton=e(this)}),e("body").delegate("form.use-ajax","submit",function(t){if(t.preventDefault(),t.stopPropagation(),!1===window.ajaxLoad){var n=e(this),i=n.attr("action"),a=window.activatedSubmitButton?window.activatedSubmitButton:n,r=null!=a.data("hide-load");window.activatedSubmitButton=!1;var o=new FormData(n[0]);a.is("[name]")&&o.append(a.attr("name"),a.val()),setTimeout(function(){i&&o&&_ajax_post(a,i,o,r)},300)}}),e("body").delegate("select.use-ajax","change",function(t){t.preventDefault(),t.stopPropagation();var n=e(this),i=null!=n.data("skip-load")?1:0;if(!1===window.ajaxLoad||i){var a,r="",o=n.find("option:selected");if(a=n.data("path"),n.hasClass("uk-select2")?n.on("select2:select",function(e){(r={}).option=n.val()}):n.val()&&((r=n.data()).option=n.val()),Object.keys(o.data()).length>0)for(var s in o.data())r[s]=o.data(s);setTimeout(function(){var e=null!=n.data("hide-load");a&&r&&_ajax_post(n,a,r,e)},200)}})}(jQuery);var $cookie=new Cookie,$ckEditorObject=new Array,$codeMirrorObject=new Array,$open_menu,$ajaxDelivery=!1,$ajaxRecount=!1,$timeOutCheckoutRecount=!1;function obj_exists(e){return!!e.length}function Cookie(){this.get=function(e,t){var n=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return n?decodeURIComponent(n[1]):t},this.set=function(e,t,n){var i=n||{},a=e+"="+encodeURIComponent(t),r=i.expires;if("number"==typeof r&&r){var o=new Date;o.setTime(o.getTime()+1e3*r),r=i.expires=o}for(var s in r&&r.toUTCString&&(i.expires=r.toUTCString()),i){a+=";"+s;var l=i[s];!0!==l&&(a+="="+l)}document.cookie=a},this.delete=function(e){this.set(e,"",{expires:-1})}}function useSelect2(e){e("select.uk-select2").select2({width:"100%",minimumResultsForSearch:10})}function useFieldUpload(e){e(".js-upload").each(function(){var t=e(this),n=e(this).find(".file-upload-field");if(!n.hasClass("applied")){var i=n.parents(".uk-form-controls-file"),a="gallery"==i.data("view")?i.find(".uk-preview > div"):i.find(".uk-preview"),r={url:n.data("url"),allow:n.data("allow"),multiple:!!n.data("multiple"),type:"POST",name:"file",params:{field:n.data("field"),view:n.data("view")},beforeSend:function(e){e.headers={"X-CSRF-TOKEN":window.Laravel.csrfToken,LOCALE:window.Laravel.locale,LOCATION:"",DEVICE:window.Laravel.device},i.addClass("load")},loadEnd:function(e){200!=e.currentTarget.status&&alert("Error - "+e.currentTarget.status),i.removeClass("load")},complete:function(){var t=arguments[0].status,n=arguments[0].responseText;200==t?(a.append(e(n)),i.hasClass("uk-one-file")&&i.addClass("loaded-file")):UIkit.notification(n,{status:"danger",pos:"bottom-right"})},completeAll:function(){i.removeClass("load")},fail:function(){i.removeClass("load"),UIkit.notification(Laravel.translate.upload_file_mime_type,{status:"danger",pos:"bottom-right"})}};n.addClass("applied"),UIkit.upload("#"+t.attr("id"),r)}})}function useDatePicker(e){e("input.uk-datepicker").datepicker({})}function useCkEditor(e){e(".uk-ckEditor").each(function(){var t,n={};(t=e(this).attr("id"))&&(n=e(this).hasClass("editor-short")?{height:150,customConfig:"/js/ck_config_short.js"}:{height:250,customConfig:"/js/ck_config_full.js"},e("#cke_"+t).length||($ckEditorObject[t]=CKEDITOR.replace(t,n),$ckEditorObject[t].on("change",function(n){e("#"+t).val(n.editor.getData())}),CKEDITOR.config.startupOutlineBlocks=!0))})}function useEasyAutocomplete(e){e("input.uk-autocomplete:not(.load)").each(function(){var t=e(this),n=t.parents(".uk-form-controls-autocomplete"),i=n.find('input[type="hidden"]'),a=t.data("highlight");null!=a&&a||(a=!0),t.data("url")&&(t.addClass("load"),t.easyAutocomplete({url:t.data("url"),ajaxSettings:{dataType:"json",method:"POST",headers:{"X-CSRF-TOKEN":window.Laravel.csrfToken},beforeSend:function(){n.append("<div uk-spinner></div>"),i.val("").trigger("change")},data:{dataType:"json"}},getValue:t.data("value"),requestDelay:500,template:{type:"custom",method:function(e,t){return void 0!==t.view&&t.view?e+' - <span style="font-size: 0.9em; color: #aaa; font-style: italic;">'+t.view+"</span>":e}},list:{onChooseEvent:function(){var e=t.getSelectedItemData();i.val(e.data).trigger("change")},onLoadEvent:function(){var e=t.getItems(),a=t.val();i.val("").trigger("change"),n.find(".uk-spinner").remove(),e.length||"<front>"==a||"<none>"==a?n.find(".easy-autocomplete-no-result").remove():(n.find(".easy-autocomplete").append('<div class="easy-autocomplete-no-result">No result</div>'),setTimeout(function(){n.find(".easy-autocomplete-no-result").remove()},3e3))},maxNumberOfElements:10,match:{enabled:!1}},preparePostData:function(e){return e.search=t.val(),e}}))})}function useRateStar(e){e(".uk-rateStars").length&&e(".uk-rateStars").each(function(){e(this).hasClass("load")||(e(this).rating(),e(this).addClass("load"))})}function usePhoneMask(e){e("input.uk-phoneMask, input[name=phone]").length&&e("input.uk-phone-mask, input[name=phone]").inputmask("+38(999) 999-9999")}function useCounterBox(e){e(".uk-input-number-counter-box").length&&e(".uk-input-number-counter-box").each(function(){var t=e(this);if(!t.hasClass("load")){var n=t.find("button[name=increment]"),i=t.find("button[name=decrement]"),a=t.find("input[name=count]"),r=a.attr("max");a.attr("default");r=r?parseInt(r):1e6,n.on("click",function(e){e.preventDefault();var t=parseInt(a.val());t||(t=0),++t>=r?(n.prop("disabled",!0),a.val(r).trigger("change")):a.val(t).trigger("change"),i.prop("disabled",!1)}),i.on("click",function(e){e.preventDefault();var t=parseInt(a.val());t||(t=0),--t<=1?(i.prop("disabled",!0),a.val(1).trigger("change")):a.val(t).trigger("change"),n.prop("disabled",!1)}),a.on("keyup input",function(e){e.preventDefault(),e.stopPropagation();var t=parseInt(a.val());t||(t=1),n.prop("disabled",!1),i.prop("disabled",!1),1==t&&1==r?(i.prop("disabled",!0),n.prop("disabled",!0)):1==t?(i.prop("disabled",!0),n.prop("disabled",!1)):t>=r&&(t=r,n.prop("disabled",!0),i.prop("disabled",!1)),a.val(t).trigger("change")}),a.change(function(){var t=e(this).data("callback");null!=t&&window[t](e)})}})}function useMinHeight(e){var t=e(window).height();obj_exists(e("header"))&&(t-=e("header").outerHeight()),obj_exists(e("footer"))&&(t-=e("footer").outerHeight()),"number"==typeof t&&e("main").css({minHeight:t+"px"})}function recount_basket_products(e){var t=e("#form-checkout-order-products");clearTimeout($timeOutCheckoutRecount),$timeOutCheckoutRecount=setTimeout(function(){var n={};t.find("input[name=count]").each(function(t){var i=e(this).data("product"),a=e(this).val();n[i]=parseInt(a)}),$ajaxRecount&&$ajaxRecount.abort(),$ajaxRecount=_ajax_post(t,"/ajax/recount-products",{items:n})},1500)}function useUpdateOrderLists(e){_ajax_post(jQuery("#load-update-order-lists"),"/oleus/order-lists-update",{last_updated_at:window.update_order_lists_last_create_at})}!function(e){function t(){useSelect2(e),useFieldUpload(e),useDatePicker(e),usePhoneMask(e),useCkEditor(e),useEasyAutocomplete(e),useRateStar(e),useCounterBox(e)}e(document).delegate('.uk-checkboxes-used-all input[type="checkbox"]',"click touch",function(t){var n=e(this),i=n.parents(".uk-checkboxes-used-all");n.prop("checked")&&"all"==n.data("key")?(i.find('input[type="checkbox"]').prop("checked",!1),n.prop("checked",!0)):n.prop("checked")?i.find('input[data-key="all"]').prop("checked",!1):0==i.find('input[data-key!="all"]:checked').length&&i.find('input[data-key="all"]').prop("checked",!0)}),e("body").delegate(".uk-form-controls-file .uk-file-remove-button","click touch",function(t){t.preventDefault();var n=e(this),i=n.parents(".uk-form-controls-file");n.parents(".file").remove(),i.hasClass("uk-one-file")&&i.removeClass("loaded-file")}),e("body").delegate(".uk-button-delete-entity","click touch",function(t){t.preventDefault(),t.stopPropagation();var n=e(this),i=n.data("item"),a=e("#form-delete-"+i+"-object"),r=a.serialize();n.hasClass("use-ajax")?e.ajax({url:a.attr("action"),method:"DELETE",data:r,headers:{"X-CSRF-TOKEN":window.Laravel.csrfToken},success:function(e){}}):a.length&&"FORM"==a.get(0).tagName&&a.submit()}),e("body").delegate(".uk-button-use-code-mirror","click touch",function(t){t.preventDefault(),t.stopPropagation();var n=e(this),i=n.data("id");i&&(null!=$codeMirrorObject[i]&&$codeMirrorObject[i].toTextArea(),null!=CKEDITOR.instances[i]&&(CKEDITOR.instances[i].destroy(),CKEDITOR.remove(i),e('button.uk-button-use-ckEditor[data-id="'+i+'"]').removeClass("on"),$ckEditorObject.splice(i,1)),n.hasClass("on")?(n.removeClass("on"),$codeMirrorObject.splice(i,1)):($codeMirrorObject[i]=CodeMirror.fromTextArea(document.getElementById(i),{lineNumbers:!0,styleActiveLine:!0,name:"javascript",theme:"idea",extraKeys:{F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}}}),n.addClass("on")))}),e("body").delegate(".uk-button-use-ckEditor","click touch",function(t){t.preventDefault(),t.stopPropagation();var n=e(this),i=n.data("id");if(i){var a=e("#"+i);null!=$codeMirrorObject[i]&&($codeMirrorObject[i].toTextArea(),$codeMirrorObject.splice(i,1),e('button.uk-button-use-code-mirror[data-id="'+i+'"]').removeClass("on")),null!=CKEDITOR.instances[i]&&(CKEDITOR.instances[i].destroy(),CKEDITOR.remove(i)),n.hasClass("on")?(n.removeClass("on"),$ckEditorObject.splice(i,1)):(a.hasClass("editor-short")?$optionsEditor={height:150,customConfig:"/js/ck_config_short.js"}:$optionsEditor={height:250,customConfig:"/js/ck_config_full.js"},e("#cke_"+i).length||($ckEditorObject[i]=CKEDITOR.replace(i,$optionsEditor),$ckEditorObject[i].on("change",function(t){e("#"+i).val(t.editor.getData())}),CKEDITOR.config.startupOutlineBlocks=!0),n.addClass("on"))}}),e("body").delegate(".uk-button-save-sorting","click touch",function(t){t.preventDefault(),t.stopPropagation();var n=e(this),i={};e("input.uk-input-sort-item").each(function(t){i[e(this).data("id")]=e(this).val()}),_ajax_post(n,n.attr("href"),i)}),e("body").delegate("#form-field-categories","change",function(t){t.preventDefault(),t.stopPropagation(),e("#form-field-categories-selection-button").removeAttr("disabled").addClass("uk-animation-shake"),setTimeout(function(){e("#form-field-categories-selection-button").removeClass("uk-animation-shake")},1500)}),e("body").delegate("#form-field-categories-selection-button","click touch",function(t){t.preventDefault(),t.stopPropagation(),_ajax_post(e(this),e(this).data("path"),{categories:e("#form-field-categories").val()})}),e("body").delegate("#shop-product-slideshow-nav li","click touch",function(t){var n=e(this).data("index_slide");UIkit.slideshow("#shop-product-slideshow").show(n)}),e("body").delegate("#shop-product-buy-button","click touch",function(t){t.preventDefault(),t.stopPropagation();var n=e(this),i=n.parents("#shop-product-action-box");if(i.length){var a=parseInt(i.find("input[name=count]").val());a||(a=1),_ajax_post(n,n.data("path"),{quantity:a})}}),e("body").delegate("#form-checkout-order-delivery-method input[type=radio]","change",function(t){var n=e(this),i=e("#form-checkout-order");$ajaxDelivery&&$ajaxDelivery.abort(),$ajaxDelivery=_ajax_post(i,"/ajax/delivery-box",{method:n.val()},!1)}),e("body").delegate("#form-checkout-order-products a.uk-remove-product","click touch",function(t){t.preventDefault(),t.stopPropagation();var n=e(this);_ajax_post(e("#form-checkout-order-products"),"/ajax/remove-products",{item:n.data("product")})}),e(document).ajaxComplete(function(e,n,i){t()}),e(document).ready(function(){useMinHeight(e),t()}),e(window).resize(function(){useMinHeight(e)}),null!=window.update_order_lists&&setInterval(useUpdateOrderLists,15e3)}(jQuery);


(function ($) {
    $('body').delegate('.stock_type', 'click', function () {
        if($(this).val() == 'product_null') { $('.stock_discount').val(0).parent().parent().hide(); }
        else $('.stock_discount').parent().parent().show();
        if($(this).val() == 'all_basket') {
            $('.stock_categories').parent().parent().hide();
            $('.stock_products').parent().parent().hide();
        }
        else{
            $('.stock_categories').parent().parent().show();
            $('.stock_products').parent().parent().show(); 
        }
        if($(this).val() == 'sale_product') {
            $('.stock_products').parent().parent().find(".uk-text-danger").hide(); 
        }else{
            $('.stock_products').parent().parent().find(".uk-text-danger").show(); 
        }       
    });
    $("input[name=type]:checked").click();

    $('body').delegate('#form-field-categories', 'change', function () {
        //console.log($(this).val());

        $.ajax({
            method: "GET",
            url: "/oleus/shop-stock/getproducts/"+$(this).val()

          })
            .done(function(res) {
                $("#form-field-products").html(res);
         });

    });

})(jQuery);
